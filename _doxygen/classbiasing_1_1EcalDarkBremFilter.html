<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.9.2"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>LDMX Software: biasing::EcalDarkBremFilter Class Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">LDMX Software
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>biasing</b></li><li class="navelem"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html">EcalDarkBremFilter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classbiasing_1_1EcalDarkBremFilter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">biasing::EcalDarkBremFilter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="EcalDarkBremFilter_8h_source.html">EcalDarkBremFilter.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af33c1823e0f7045f685fa4c591c8e89d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#af33c1823e0f7045f685fa4c591c8e89d">EcalDarkBremFilter</a> (const std::string &amp;name, <a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;parameters)</td></tr>
<tr class="separator:af33c1823e0f7045f685fa4c591c8e89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f946db58917d54433279f7027d318a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#a3f946db58917d54433279f7027d318a1">~EcalDarkBremFilter</a> ()</td></tr>
<tr class="separator:a3f946db58917d54433279f7027d318a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7151c815a71875368aaf488c6a564fbe"><td class="memItemLeft" align="right" valign="top">std::vector&lt; simcore::TYPE &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#a7151c815a71875368aaf488c6a564fbe">getTypes</a> () final override</td></tr>
<tr class="separator:a7151c815a71875368aaf488c6a564fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719de0d4f5f1625867b540eb58c44215"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#a719de0d4f5f1625867b540eb58c44215">BeginOfEventAction</a> (const G4Event *event) final override</td></tr>
<tr class="separator:a719de0d4f5f1625867b540eb58c44215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e25ead0a9bb0ded7639c0bdeb7422ce"><td class="memItemLeft" align="right" valign="top">G4ClassificationOfNewTrack&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#a9e25ead0a9bb0ded7639c0bdeb7422ce">ClassifyNewTrack</a> (const G4Track *aTrack, const G4ClassificationOfNewTrack &amp;currentTrackClass) final override</td></tr>
<tr class="separator:a9e25ead0a9bb0ded7639c0bdeb7422ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae71143e89467f3e2149eeccedf902aed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#ae71143e89467f3e2149eeccedf902aed">NewStage</a> () final override</td></tr>
<tr class="separator:ae71143e89467f3e2149eeccedf902aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27f7e3901bc4b3f04d2584bf94ad67c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#aa27f7e3901bc4b3f04d2584bf94ad67c">PostUserTrackingAction</a> (const G4Track *track) final override</td></tr>
<tr class="separator:aa27f7e3901bc4b3f04d2584bf94ad67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsimcore_1_1UserAction"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsimcore_1_1UserAction')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsimcore_1_1UserAction.html">simcore::UserAction</a></td></tr>
<tr class="memitem:a4bb74e3451fa581346b72dc15ee00eb8 inherit pub_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a4bb74e3451fa581346b72dc15ee00eb8">UserAction</a> (const std::string &amp;name, <a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;parameters)</td></tr>
<tr class="separator:a4bb74e3451fa581346b72dc15ee00eb8 inherit pub_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeffbd18131716ef99f1cba2b9331e12 inherit pub_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#abeffbd18131716ef99f1cba2b9331e12">~UserAction</a> ()</td></tr>
<tr class="memdesc:abeffbd18131716ef99f1cba2b9331e12 inherit pub_methods_classsimcore_1_1UserAction"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classsimcore_1_1UserAction.html#abeffbd18131716ef99f1cba2b9331e12">More...</a><br /></td></tr>
<tr class="separator:abeffbd18131716ef99f1cba2b9331e12 inherit pub_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846adbda3c1a0a3625a2e6ac39f16a36 inherit pub_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a846adbda3c1a0a3625a2e6ac39f16a36">EndOfEventAction</a> (const G4Event *)</td></tr>
<tr class="separator:a846adbda3c1a0a3625a2e6ac39f16a36 inherit pub_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d87b793fc538412230d5aec53cc035 inherit pub_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a74d87b793fc538412230d5aec53cc035">BeginOfRunAction</a> (const G4Run *)</td></tr>
<tr class="separator:a74d87b793fc538412230d5aec53cc035 inherit pub_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444c9a408fb3b0df3846a0af06bdd966 inherit pub_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a444c9a408fb3b0df3846a0af06bdd966">EndOfRunAction</a> (const G4Run *)</td></tr>
<tr class="separator:a444c9a408fb3b0df3846a0af06bdd966 inherit pub_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e8ff588bdacd2689d9c939808b457d inherit pub_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a71e8ff588bdacd2689d9c939808b457d">PreUserTrackingAction</a> (const G4Track *)</td></tr>
<tr class="separator:a71e8ff588bdacd2689d9c939808b457d inherit pub_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066db4c649082f798e29bd8594e95d9e inherit pub_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a066db4c649082f798e29bd8594e95d9e">stepping</a> (const G4Step *)</td></tr>
<tr class="separator:a066db4c649082f798e29bd8594e95d9e inherit pub_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b84a66487620fdd612ebd220fe6c893 inherit pub_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a0b84a66487620fdd612ebd220fe6c893">PrepareNewEvent</a> ()</td></tr>
<tr class="separator:a0b84a66487620fdd612ebd220fe6c893 inherit pub_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab895f37688987ae8666ee2cc0b49149e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#ab895f37688987ae8666ee2cc0b49149e">inDesiredVolume</a> (const G4Track *) const</td></tr>
<tr class="separator:ab895f37688987ae8666ee2cc0b49149e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd5f31df54eae1527ff8a44d039dd80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#acbd5f31df54eae1527ff8a44d039dd80">AbortEvent</a> (const std::string &amp;reason) const</td></tr>
<tr class="separator:acbd5f31df54eae1527ff8a44d039dd80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8b76832f19b2fc1649173e1c2d367a87"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#a8b76832f19b2fc1649173e1c2d367a87">threshold_</a></td></tr>
<tr class="separator:a8b76832f19b2fc1649173e1c2d367a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab98fad634b4949598a0de90e8e2b0a26"><td class="memItemLeft" align="right" valign="top">std::vector&lt; G4LogicalVolume * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#ab98fad634b4949598a0de90e8e2b0a26">volumes_</a></td></tr>
<tr class="separator:ab98fad634b4949598a0de90e8e2b0a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c4ace1839a2ba70c1760bce4122ee1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbiasing_1_1EcalDarkBremFilter.html#ab0c4ace1839a2ba70c1760bce4122ee1">foundAp_</a></td></tr>
<tr class="separator:ab0c4ace1839a2ba70c1760bce4122ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classsimcore_1_1UserAction"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classsimcore_1_1UserAction')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classsimcore_1_1UserAction.html">simcore::UserAction</a></td></tr>
<tr class="memitem:a1d20452de6e26f22c322330b2ac106f8 inherit pub_static_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a1d20452de6e26f22c322330b2ac106f8">declare</a> (const std::string &amp;className, UserActionBuilder *builder)</td></tr>
<tr class="separator:a1d20452de6e26f22c322330b2ac106f8 inherit pub_static_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classsimcore_1_1UserAction"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classsimcore_1_1UserAction')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classsimcore_1_1UserAction.html">simcore::UserAction</a></td></tr>
<tr class="memitem:a90a43ffd1708bbdd25411f9cfe529a41 inherit pro_static_methods_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classsimcore_1_1UserEventInformation.html">UserEventInformation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#a90a43ffd1708bbdd25411f9cfe529a41">getEventInfo</a> ()</td></tr>
<tr class="separator:a90a43ffd1708bbdd25411f9cfe529a41 inherit pro_static_methods_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classsimcore_1_1UserAction"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classsimcore_1_1UserAction')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classsimcore_1_1UserAction.html">simcore::UserAction</a></td></tr>
<tr class="memitem:aeafb03d8345959dfe2c18bada9d13917 inherit pro_attribs_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#aeafb03d8345959dfe2c18bada9d13917">name_</a> {&quot;&quot;}</td></tr>
<tr class="memdesc:aeafb03d8345959dfe2c18bada9d13917 inherit pro_attribs_classsimcore_1_1UserAction"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the <a class="el" href="classsimcore_1_1UserAction.html" title="Interface that defines a user action.">UserAction</a>.  <a href="classsimcore_1_1UserAction.html#aeafb03d8345959dfe2c18bada9d13917">More...</a><br /></td></tr>
<tr class="separator:aeafb03d8345959dfe2c18bada9d13917 inherit pro_attribs_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af02fcb18b66d1f02514b43d0c5803e6c inherit pro_attribs_classsimcore_1_1UserAction"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimcore_1_1UserAction.html#af02fcb18b66d1f02514b43d0c5803e6c">parameters_</a></td></tr>
<tr class="memdesc:af02fcb18b66d1f02514b43d0c5803e6c inherit pro_attribs_classsimcore_1_1UserAction"><td class="mdescLeft">&#160;</td><td class="mdescRight">The set of parameters used to configure this class.  <a href="classsimcore_1_1UserAction.html#af02fcb18b66d1f02514b43d0c5803e6c">More...</a><br /></td></tr>
<tr class="separator:af02fcb18b66d1f02514b43d0c5803e6c inherit pro_attribs_classsimcore_1_1UserAction"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class is meant to filter for events that produce a dark brem occuring within the ECal and producing an A' of a minimum energy threshold [MeV].</p>
<dl class="section note"><dt>Note</dt><dd>The threshold that the A' needs to have should be equal to or greater than the threshold of the PartialEnergySorter.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>PartialEnergySorter Here we assume that the partial energy sorter is being run in sequence with this filter. This filter makes sure that any events passing this filter have an A' of the required input energy and generated inside of the required input volume. </dd></dl>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8h_source.html#l00046">46</a> of file <a class="el" href="EcalDarkBremFilter_8h_source.html">EcalDarkBremFilter.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af33c1823e0f7045f685fa4c591c8e89d" name="af33c1823e0f7045f685fa4c591c8e89d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af33c1823e0f7045f685fa4c591c8e89d">&#9670;&nbsp;</a></span>EcalDarkBremFilter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EcalDarkBremFilter::EcalDarkBremFilter </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Class constructor.</p>
<p >Retrieve the necessary configuration parameters </p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00019">19</a> of file <a class="el" href="EcalDarkBremFilter_8cxx_source.html">EcalDarkBremFilter.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    : <a class="code hl_class" href="classsimcore_1_1UserAction.html">simcore::UserAction</a>(name, parameters) {</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>  <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#a8b76832f19b2fc1649173e1c2d367a87">threshold_</a> = parameters.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;threshold&quot;</span>);</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  <span class="comment">/*</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">   * We look for the logical volumes that match the following pattern:</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">   *  - &#39;volume&#39; is in the name AND</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">   *  - &#39;Si&#39; OR &#39;W&#39; OR &#39;CFMix&#39; OR &#39;PCB&#39; are in the name</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">   */</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>  <span class="keywordflow">for</span> (G4LogicalVolume* volume : *G4LogicalVolumeStore::GetInstance()) {</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    G4String volumeName = volume-&gt;GetName();</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <span class="comment">// looking for ecal volumes</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <span class="keywordflow">if</span> (volumeName.contains(<span class="stringliteral">&quot;volume&quot;</span>) and</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>        (volumeName.contains(<span class="stringliteral">&quot;Si&quot;</span>) or volumeName.contains(<span class="stringliteral">&quot;W&quot;</span>) or</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>         volumeName.contains(<span class="stringliteral">&quot;CFMix&quot;</span>) or volumeName.contains(<span class="stringliteral">&quot;PCB&quot;</span>) or</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>         volumeName.contains(<span class="stringliteral">&quot;Al&quot;</span>))) {</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>      <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#ab98fad634b4949598a0de90e8e2b0a26">volumes_</a>.push_back(volume);</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    }</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>  }</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>  <span class="keywordflow">if</span> (G4RunManager::GetRunManager()-&gt;GetVerboseLevel() &gt; 0) {</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[ EcalDarkBremFilter ]: &quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>              &lt;&lt; <span class="stringliteral">&quot;Looking for A&#39; in: &quot;</span>;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; volume : <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#ab98fad634b4949598a0de90e8e2b0a26">volumes_</a>) std::cout &lt;&lt; volume-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    std::cout &lt;&lt; std::endl;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>  }</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>}</div>
<div class="ttc" id="aclassbiasing_1_1EcalDarkBremFilter_html_a8b76832f19b2fc1649173e1c2d367a87"><div class="ttname"><a href="classbiasing_1_1EcalDarkBremFilter.html#a8b76832f19b2fc1649173e1c2d367a87">biasing::EcalDarkBremFilter::threshold_</a></div><div class="ttdeci">double threshold_</div><div class="ttdef"><b>Definition:</b> <a href="EcalDarkBremFilter_8h_source.html#l00147">EcalDarkBremFilter.h:147</a></div></div>
<div class="ttc" id="aclassbiasing_1_1EcalDarkBremFilter_html_ab98fad634b4949598a0de90e8e2b0a26"><div class="ttname"><a href="classbiasing_1_1EcalDarkBremFilter.html#ab98fad634b4949598a0de90e8e2b0a26">biasing::EcalDarkBremFilter::volumes_</a></div><div class="ttdeci">std::vector&lt; G4LogicalVolume * &gt; volumes_</div><div class="ttdef"><b>Definition:</b> <a href="EcalDarkBremFilter_8h_source.html#l00152">EcalDarkBremFilter.h:152</a></div></div>
<div class="ttc" id="aclassframework_1_1config_1_1Parameters_html_a18206b7c01007dd706abce7e5505eae1"><div class="ttname"><a href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">framework::config::Parameters::getParameter</a></div><div class="ttdeci">T getParameter(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="Parameters_8h_source.html#l00089">Parameters.h:89</a></div></div>
<div class="ttc" id="aclasssimcore_1_1UserAction_html"><div class="ttname"><a href="classsimcore_1_1UserAction.html">simcore::UserAction</a></div><div class="ttdoc">Interface that defines a user action.</div><div class="ttdef"><b>Definition:</b> <a href="UserAction_8h_source.html#l00046">UserAction.h:46</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Parameters_8h_source.html#l00089">framework::config::Parameters::getParameter()</a>, <a class="el" href="EcalDarkBremFilter_8h_source.html#l00147">threshold_</a>, and <a class="el" href="EcalDarkBremFilter_8h_source.html#l00152">volumes_</a>.</p>

</div>
</div>
<a id="a3f946db58917d54433279f7027d318a1" name="a3f946db58917d54433279f7027d318a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f946db58917d54433279f7027d318a1">&#9670;&nbsp;</a></span>~EcalDarkBremFilter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">biasing::EcalDarkBremFilter::~EcalDarkBremFilter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Class destructor. </p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8h_source.html#l00059">59</a> of file <a class="el" href="EcalDarkBremFilter_8h_source.html">EcalDarkBremFilter.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acbd5f31df54eae1527ff8a44d039dd80" name="acbd5f31df54eae1527ff8a44d039dd80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbd5f31df54eae1527ff8a44d039dd80">&#9670;&nbsp;</a></span>AbortEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EcalDarkBremFilter::AbortEvent </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>reason</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Helper to abort an event with a message</p>
<p >Tells the RunManger to abort the current event after displaying the input message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>reason for aborting the event </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00131">131</a> of file <a class="el" href="EcalDarkBremFilter_8cxx_source.html">EcalDarkBremFilter.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                                                                 {</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  <span class="keywordflow">if</span> (G4RunManager::GetRunManager()-&gt;GetVerboseLevel() &gt; 1) {</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[ EcalDarkBremFilter ]: &quot;</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>              &lt;&lt; <span class="stringliteral">&quot;(&quot;</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>              &lt;&lt; G4EventManager::GetEventManager()</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>                     -&gt;GetConstCurrentEvent()</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>                     -&gt;GetEventID()</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>              &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> &lt;&lt; reason &lt;&lt; <span class="stringliteral">&quot; Aborting event.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  }</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  G4RunManager::GetRunManager()-&gt;AbortEvent();</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00061">ClassifyNewTrack()</a>, <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00085">NewStage()</a>, and <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00091">PostUserTrackingAction()</a>.</p>

</div>
</div>
<a id="a719de0d4f5f1625867b540eb58c44215" name="a719de0d4f5f1625867b540eb58c44215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719de0d4f5f1625867b540eb58c44215">&#9670;&nbsp;</a></span>BeginOfEventAction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EcalDarkBremFilter::BeginOfEventAction </td>
          <td>(</td>
          <td class="paramtype">const G4Event *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Reset flag on if A' has been found</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>unused </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classsimcore_1_1UserAction.html#a12d3c3d224954a150aa0d584ee1eaf05">simcore::UserAction</a>.</p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00048">48</a> of file <a class="el" href="EcalDarkBremFilter_8cxx_source.html">EcalDarkBremFilter.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>                                                          {</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  <span class="comment">/* Debug message</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment">  std::cout &lt;&lt; &quot;[ EcalDarkBremFilter ]: &quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">      &lt;&lt; &quot;(&quot; &lt;&lt;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment">  G4EventManager::GetEventManager()-&gt;GetConstCurrentEvent()-&gt;GetEventID() &lt;&lt; &quot;)</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment">  &quot;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">      &lt;&lt; &quot;Beginning event.&quot;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">      &lt;&lt; std::endl;</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">  */</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>  <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#ab0c4ace1839a2ba70c1760bce4122ee1">foundAp_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>}</div>
<div class="ttc" id="aclassbiasing_1_1EcalDarkBremFilter_html_ab0c4ace1839a2ba70c1760bce4122ee1"><div class="ttname"><a href="classbiasing_1_1EcalDarkBremFilter.html#ab0c4ace1839a2ba70c1760bce4122ee1">biasing::EcalDarkBremFilter::foundAp_</a></div><div class="ttdeci">bool foundAp_</div><div class="ttdef"><b>Definition:</b> <a href="EcalDarkBremFilter_8h_source.html#l00159">EcalDarkBremFilter.h:159</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="EcalDarkBremFilter_8h_source.html#l00159">foundAp_</a>.</p>

</div>
</div>
<a id="a9e25ead0a9bb0ded7639c0bdeb7422ce" name="a9e25ead0a9bb0ded7639c0bdeb7422ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e25ead0a9bb0ded7639c0bdeb7422ce">&#9670;&nbsp;</a></span>ClassifyNewTrack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">G4ClassificationOfNewTrack EcalDarkBremFilter::ClassifyNewTrack </td>
          <td>(</td>
          <td class="paramtype">const G4Track *&#160;</td>
          <td class="paramname"><em>aTrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const G4ClassificationOfNewTrack &amp;&#160;</td>
          <td class="paramname"><em>currentTrackClass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >We return the classification of the track done by the PartialEnergySorter, but we can check here if the A' has been created above the required energy.</p>
<p >Checks a new track for being an A' above threshold_ if it is an A', sets the foundAp_ member</p>
<dl class="section see"><dt>See also</dt><dd>PartialEnergySort::ClassifyNewTrack </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aTrack</td><td>The Geant4 track. </td></tr>
    <tr><td class="paramname">currentTrackClass</td><td>The current track classification. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>current track classification </dd></dl>

<p>Reimplemented from <a class="el" href="classsimcore_1_1UserAction.html#a586e1338f2c0f2d6590a9992c353ccbe">simcore::UserAction</a>.</p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00061">61</a> of file <a class="el" href="EcalDarkBremFilter_8cxx_source.html">EcalDarkBremFilter.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>                                                                 {</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>  <span class="keywordflow">if</span> (aTrack-&gt;GetParticleDefinition() == <a class="code hl_function" href="classsimcore_1_1darkbrem_1_1G4APrime.html#a0384b294f059bfee2736db887a13d307">simcore::darkbrem::G4APrime::APrime</a>()) {</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="comment">// there is an A&#39;! Yay!</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="comment">/* Debug message</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment">    std::cout &lt;&lt; &quot;[ EcalDarkBremFilter ]: &quot;</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment">              &lt;&lt; &quot;Found A&#39;, still need to check if it originated in requested</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment">    volume.&quot;</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment">              &lt;&lt; std::endl;</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">    */</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="keywordflow">if</span> (not <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#ab0c4ace1839a2ba70c1760bce4122ee1">foundAp_</a> and aTrack-&gt;GetTotalEnergy() &gt; <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#a8b76832f19b2fc1649173e1c2d367a87">threshold_</a>) {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>      <span class="comment">// The A&#39; is the first one created in this event and is above the energy</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>      <span class="comment">// threshold</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>      <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#ab0c4ace1839a2ba70c1760bce4122ee1">foundAp_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#ab0c4ace1839a2ba70c1760bce4122ee1">foundAp_</a>) {</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>      <a class="code hl_function" href="classbiasing_1_1EcalDarkBremFilter.html#acbd5f31df54eae1527ff8a44d039dd80">AbortEvent</a>(<span class="stringliteral">&quot;Found more than one A&#39; during filtering.&quot;</span>);</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>      <a class="code hl_function" href="classbiasing_1_1EcalDarkBremFilter.html#acbd5f31df54eae1527ff8a44d039dd80">AbortEvent</a>(<span class="stringliteral">&quot;A&#39; was not produced above the required threshold.&quot;</span>);</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    }</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>  }</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>  <span class="keywordflow">return</span> cl;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>}</div>
<div class="ttc" id="aclassbiasing_1_1EcalDarkBremFilter_html_acbd5f31df54eae1527ff8a44d039dd80"><div class="ttname"><a href="classbiasing_1_1EcalDarkBremFilter.html#acbd5f31df54eae1527ff8a44d039dd80">biasing::EcalDarkBremFilter::AbortEvent</a></div><div class="ttdeci">void AbortEvent(const std::string &amp;reason) const</div><div class="ttdef"><b>Definition:</b> <a href="EcalDarkBremFilter_8cxx_source.html#l00131">EcalDarkBremFilter.cxx:131</a></div></div>
<div class="ttc" id="aclasssimcore_1_1darkbrem_1_1G4APrime_html_a0384b294f059bfee2736db887a13d307"><div class="ttname"><a href="classsimcore_1_1darkbrem_1_1G4APrime.html#a0384b294f059bfee2736db887a13d307">simcore::darkbrem::G4APrime::APrime</a></div><div class="ttdeci">static G4APrime * APrime(G4double theMass=-1 *MeV)</div><div class="ttdef"><b>Definition:</b> <a href="G4APrime_8cxx_source.html#l00019">G4APrime.cxx:19</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00131">AbortEvent()</a>, <a class="el" href="G4APrime_8cxx_source.html#l00019">simcore::darkbrem::G4APrime::APrime()</a>, <a class="el" href="EcalDarkBremFilter_8h_source.html#l00159">foundAp_</a>, and <a class="el" href="EcalDarkBremFilter_8h_source.html#l00147">threshold_</a>.</p>

</div>
</div>
<a id="a7151c815a71875368aaf488c6a564fbe" name="a7151c815a71875368aaf488c6a564fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7151c815a71875368aaf488c6a564fbe">&#9670;&nbsp;</a></span>getTypes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; simcore::TYPE &gt; biasing::EcalDarkBremFilter::getTypes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Get the types of actions this class can do</p>
<dl class="section return"><dt>Returns</dt><dd>list of action types this class does </dd></dl>

<p>Implements <a class="el" href="classsimcore_1_1UserAction.html#a88236347eb3d75a26bf1cf33a842800c">simcore::UserAction</a>.</p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8h_source.html#l00066">66</a> of file <a class="el" href="EcalDarkBremFilter_8h_source.html">EcalDarkBremFilter.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>                                                   {</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="keywordflow">return</span> {simcore::TYPE::STACKING, simcore::TYPE::EVENT,</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>            simcore::TYPE::TRACKING};</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab895f37688987ae8666ee2cc0b49149e" name="ab895f37688987ae8666ee2cc0b49149e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab895f37688987ae8666ee2cc0b49149e">&#9670;&nbsp;</a></span>inDesiredVolume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EcalDarkBremFilter::inDesiredVolume </td>
          <td>(</td>
          <td class="paramtype">const G4Track *&#160;</td>
          <td class="paramname"><em>track</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Check if input volume is in the desired volume name</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>to track to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if originated in desired volume </dd></dl>
<p >Comparing the pointers to logical volumes isn't very robust. TODO find a better way to do this</p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00117">117</a> of file <a class="el" href="EcalDarkBremFilter_8cxx_source.html">EcalDarkBremFilter.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>                                                                   {</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  <span class="keyword">auto</span> inVol = track-&gt;GetLogicalVolumeAtVertex();</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; volume : <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#ab98fad634b4949598a0de90e8e2b0a26">volumes_</a>) {</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordflow">if</span> (inVol == volume) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  }</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="EcalDarkBremFilter_8h_source.html#l00152">volumes_</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00091">PostUserTrackingAction()</a>.</p>

</div>
</div>
<a id="ae71143e89467f3e2149eeccedf902aed" name="ae71143e89467f3e2149eeccedf902aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae71143e89467f3e2149eeccedf902aed">&#9670;&nbsp;</a></span>NewStage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EcalDarkBremFilter::NewStage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >When using the PartialEnergySorter, the <em>first</em> time that a new stage begins is when all particles are now below the threshold.</p>
<p >We take this opportunity to make sure that the A' has been found.</p>
<dl class="section see"><dt>See also</dt><dd>PartialEnergySort::NewStage </dd></dl>

<p>Reimplemented from <a class="el" href="classsimcore_1_1UserAction.html#a9f658a98be802d03fea7899abe846bd9">simcore::UserAction</a>.</p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00085">85</a> of file <a class="el" href="EcalDarkBremFilter_8cxx_source.html">EcalDarkBremFilter.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>                                  {</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>  <span class="keywordflow">if</span> (not <a class="code hl_variable" href="classbiasing_1_1EcalDarkBremFilter.html#ab0c4ace1839a2ba70c1760bce4122ee1">foundAp_</a>) <a class="code hl_function" href="classbiasing_1_1EcalDarkBremFilter.html#acbd5f31df54eae1527ff8a44d039dd80">AbortEvent</a>(<span class="stringliteral">&quot;A&#39; wasn&#39;t produced.&quot;</span>);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00131">AbortEvent()</a>, and <a class="el" href="EcalDarkBremFilter_8h_source.html#l00159">foundAp_</a>.</p>

</div>
</div>
<a id="aa27f7e3901bc4b3f04d2584bf94ad67c" name="aa27f7e3901bc4b3f04d2584bf94ad67c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa27f7e3901bc4b3f04d2584bf94ad67c">&#9670;&nbsp;</a></span>PostUserTrackingAction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EcalDarkBremFilter::PostUserTrackingAction </td>
          <td>(</td>
          <td class="paramtype">const G4Track *&#160;</td>
          <td class="paramname"><em>track</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Make sure A' is saved.</p>
<p >If passed track is A', set save status to true Aborts event if A' does not originate in desired volume. This is the last check that the event needs to pass to be kept.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">track</td><td>G4Track to check if it is an A' </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classsimcore_1_1UserAction.html#ae0da9c435376614505eb1b66b68c7a30">simcore::UserAction</a>.</p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00091">91</a> of file <a class="el" href="EcalDarkBremFilter_8cxx_source.html">EcalDarkBremFilter.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>                                                                    {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>  <span class="comment">/* Check that generational stacking is working</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment">  std::cout &lt;&lt; &quot;[ EcalDarkBremFilter ]:&quot;</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="comment">      &lt;&lt; track-&gt;GetTrackID() &lt;&lt; &quot; &quot; &lt;&lt;</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment">  track-&gt;GetParticleDefinition()-&gt;GetPDGEncoding()</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment">      &lt;&lt; std::endl;</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment">  */</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>  <span class="keyword">const</span> G4VProcess* creator = track-&gt;GetCreatorProcess();</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>  <span class="keywordflow">if</span> (creator and creator-&gt;GetProcessName().contains(</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>                      <a class="code hl_variable" href="classsimcore_1_1darkbrem_1_1G4eDarkBremsstrahlung.html#a43b1c1fe62b1efa5b3283a21a5a0bf11">simcore::darkbrem::G4eDarkBremsstrahlung::PROCESS_NAME</a>)) {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// make sure all secondaries of dark brem process are saved</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <a class="code hl_class" href="classsimcore_1_1UserTrackInformation.html">simcore::UserTrackInformation</a>* userInfo = <a class="code hl_function" href="classsimcore_1_1UserTrackInformation.html#a05d99ef5ad9cc9e31abcfb5505bc2b9e">simcore::UserTrackInformation::get</a>(track);</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// make sure A&#39; is persisted into output file</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    userInfo-&gt;<a class="code hl_function" href="classsimcore_1_1UserTrackInformation.html#a66964a3d8f5f8b4db4ff3127e364da25">setSaveFlag</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="keywordflow">if</span> (track-&gt;GetParticleDefinition() == <a class="code hl_function" href="classsimcore_1_1darkbrem_1_1G4APrime.html#a0384b294f059bfee2736db887a13d307">simcore::darkbrem::G4APrime::APrime</a>()) {</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>      <span class="comment">// check if A&#39; was made in the desired volume and has the minimum energy</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>      <span class="keywordflow">if</span> (not <a class="code hl_function" href="classbiasing_1_1EcalDarkBremFilter.html#ab895f37688987ae8666ee2cc0b49149e">inDesiredVolume</a>(track)) {</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>        <a class="code hl_function" href="classbiasing_1_1EcalDarkBremFilter.html#acbd5f31df54eae1527ff8a44d039dd80">AbortEvent</a>(<span class="stringliteral">&quot;A&#39; wasn&#39;t produced inside of the requested volume.&quot;</span>);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>      }  <span class="comment">// A&#39; was made in desired volume and has the minimum energy</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    }    <span class="comment">// track was A&#39;</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  }      <span class="comment">// track created by dark brem process</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>}</div>
<div class="ttc" id="aclassbiasing_1_1EcalDarkBremFilter_html_ab895f37688987ae8666ee2cc0b49149e"><div class="ttname"><a href="classbiasing_1_1EcalDarkBremFilter.html#ab895f37688987ae8666ee2cc0b49149e">biasing::EcalDarkBremFilter::inDesiredVolume</a></div><div class="ttdeci">bool inDesiredVolume(const G4Track *) const</div><div class="ttdef"><b>Definition:</b> <a href="EcalDarkBremFilter_8cxx_source.html#l00117">EcalDarkBremFilter.cxx:117</a></div></div>
<div class="ttc" id="aclasssimcore_1_1UserTrackInformation_html"><div class="ttname"><a href="classsimcore_1_1UserTrackInformation.html">simcore::UserTrackInformation</a></div><div class="ttdef"><b>Definition:</b> <a href="UserTrackInformation_8h_source.html#l00016">UserTrackInformation.h:16</a></div></div>
<div class="ttc" id="aclasssimcore_1_1UserTrackInformation_html_a05d99ef5ad9cc9e31abcfb5505bc2b9e"><div class="ttname"><a href="classsimcore_1_1UserTrackInformation.html#a05d99ef5ad9cc9e31abcfb5505bc2b9e">simcore::UserTrackInformation::get</a></div><div class="ttdeci">static UserTrackInformation * get(const G4Track *track)</div><div class="ttdef"><b>Definition:</b> <a href="UserTrackInformation_8cxx_source.html#l00010">UserTrackInformation.cxx:10</a></div></div>
<div class="ttc" id="aclasssimcore_1_1UserTrackInformation_html_a66964a3d8f5f8b4db4ff3127e364da25"><div class="ttname"><a href="classsimcore_1_1UserTrackInformation.html#a66964a3d8f5f8b4db4ff3127e364da25">simcore::UserTrackInformation::setSaveFlag</a></div><div class="ttdeci">void setSaveFlag(bool saveFlag)</div><div class="ttdef"><b>Definition:</b> <a href="UserTrackInformation_8h_source.html#l00066">UserTrackInformation.h:66</a></div></div>
<div class="ttc" id="aclasssimcore_1_1darkbrem_1_1G4eDarkBremsstrahlung_html_a43b1c1fe62b1efa5b3283a21a5a0bf11"><div class="ttname"><a href="classsimcore_1_1darkbrem_1_1G4eDarkBremsstrahlung.html#a43b1c1fe62b1efa5b3283a21a5a0bf11">simcore::darkbrem::G4eDarkBremsstrahlung::PROCESS_NAME</a></div><div class="ttdeci">static const std::string PROCESS_NAME</div><div class="ttdef"><b>Definition:</b> <a href="G4eDarkBremsstrahlung_8h_source.html#l00213">G4eDarkBremsstrahlung.h:213</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00131">AbortEvent()</a>, <a class="el" href="G4APrime_8cxx_source.html#l00019">simcore::darkbrem::G4APrime::APrime()</a>, <a class="el" href="UserTrackInformation_8cxx_source.html#l00010">simcore::UserTrackInformation::get()</a>, <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00117">inDesiredVolume()</a>, <a class="el" href="G4eDarkBremsstrahlung_8h_source.html#l00213">simcore::darkbrem::G4eDarkBremsstrahlung::PROCESS_NAME</a>, and <a class="el" href="UserTrackInformation_8h_source.html#l00066">simcore::UserTrackInformation::setSaveFlag()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab0c4ace1839a2ba70c1760bce4122ee1" name="ab0c4ace1839a2ba70c1760bce4122ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0c4ace1839a2ba70c1760bce4122ee1">&#9670;&nbsp;</a></span>foundAp_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool biasing::EcalDarkBremFilter::foundAp_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Have we found the A' yet?</p>
<p >Reset to false in BeginOfEventAction </p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8h_source.html#l00159">159</a> of file <a class="el" href="EcalDarkBremFilter_8h_source.html">EcalDarkBremFilter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00048">BeginOfEventAction()</a>, <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00061">ClassifyNewTrack()</a>, and <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00085">NewStage()</a>.</p>

</div>
</div>
<a id="a8b76832f19b2fc1649173e1c2d367a87" name="a8b76832f19b2fc1649173e1c2d367a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b76832f19b2fc1649173e1c2d367a87">&#9670;&nbsp;</a></span>threshold_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double biasing::EcalDarkBremFilter::threshold_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Minimum energy [MeV] that the A' should have to keep the event.</p>
<p >Also used by PartialEnergySorter to determine which tracks should be processed first.</p>
<p >Parameter Name: 'threshold' </p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8h_source.html#l00147">147</a> of file <a class="el" href="EcalDarkBremFilter_8h_source.html">EcalDarkBremFilter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00061">ClassifyNewTrack()</a>, and <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00019">EcalDarkBremFilter()</a>.</p>

</div>
</div>
<a id="ab98fad634b4949598a0de90e8e2b0a26" name="ab98fad634b4949598a0de90e8e2b0a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab98fad634b4949598a0de90e8e2b0a26">&#9670;&nbsp;</a></span>volumes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;G4LogicalVolume*&gt; biasing::EcalDarkBremFilter::volumes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The volumes that the filter will be applied to. </p>

<p class="definition">Definition at line <a class="el" href="EcalDarkBremFilter_8h_source.html#l00152">152</a> of file <a class="el" href="EcalDarkBremFilter_8h_source.html">EcalDarkBremFilter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00019">EcalDarkBremFilter()</a>, and <a class="el" href="EcalDarkBremFilter_8cxx_source.html#l00117">inDesiredVolume()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Biasing/include/Biasing/<a class="el" href="EcalDarkBremFilter_8h_source.html">EcalDarkBremFilter.h</a></li>
<li>Biasing/src/Biasing/<a class="el" href="EcalDarkBremFilter_8cxx_source.html">EcalDarkBremFilter.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>