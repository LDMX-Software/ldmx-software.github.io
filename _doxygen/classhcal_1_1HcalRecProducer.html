<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.9.2"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>LDMX Software: hcal::HcalRecProducer Class Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">LDMX Software
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>hcal</b></li><li class="navelem"><a class="el" href="classhcal_1_1HcalRecProducer.html">HcalRecProducer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classhcal_1_1HcalRecProducer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">hcal::HcalRecProducer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Performs basic HCal reconstruction.  
 <a href="classhcal_1_1HcalRecProducer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5d54ce14541a0921675201b3699a64f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a5d54ce14541a0921675201b3699a64f6">HcalRecProducer</a> (const std::string &amp;name, <a class="el" href="classframework_1_1Process.html">framework::Process</a> &amp;process)</td></tr>
<tr class="separator:a5d54ce14541a0921675201b3699a64f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08bbfebb6f9c6ec3a761bdc8e761c29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#ad08bbfebb6f9c6ec3a761bdc8e761c29">~HcalRecProducer</a> ()=default</td></tr>
<tr class="separator:ad08bbfebb6f9c6ec3a761bdc8e761c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6994bf36c7db11e3022052c3b08d3cd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a6994bf36c7db11e3022052c3b08d3cd4">configure</a> (<a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;) final override</td></tr>
<tr class="separator:a6994bf36c7db11e3022052c3b08d3cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43de8030b6bda5092fb5f35fdfeaa601"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a43de8030b6bda5092fb5f35fdfeaa601">getTOA</a> (const <a class="el" href="classldmx_1_1HgcrocDigiCollection_1_1HgcrocDigi.html">ldmx::HgcrocDigiCollection::HgcrocDigi</a> digi, double pedestal, unsigned int iSOI)</td></tr>
<tr class="separator:a43de8030b6bda5092fb5f35fdfeaa601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0630d3f8c43833b6e644daef6aafd782"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a0630d3f8c43833b6e644daef6aafd782">produce</a> (<a class="el" href="classframework_1_1Event.html">framework::Event</a> &amp;event) final override</td></tr>
<tr class="separator:a0630d3f8c43833b6e644daef6aafd782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classframework_1_1Producer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classframework_1_1Producer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classframework_1_1Producer.html">framework::Producer</a></td></tr>
<tr class="memitem:a27ea7492352028e450f24f4750c62e1b inherit pub_methods_classframework_1_1Producer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1Producer.html#a27ea7492352028e450f24f4750c62e1b">Producer</a> (const std::string &amp;name, <a class="el" href="classframework_1_1Process.html">Process</a> &amp;process)</td></tr>
<tr class="separator:a27ea7492352028e450f24f4750c62e1b inherit pub_methods_classframework_1_1Producer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b68d090cd4e50c3c572825bc57bebff inherit pub_methods_classframework_1_1Producer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1Producer.html#a8b68d090cd4e50c3c572825bc57bebff">beforeNewRun</a> (<a class="el" href="classldmx_1_1RunHeader.html">ldmx::RunHeader</a> &amp;header)</td></tr>
<tr class="separator:a8b68d090cd4e50c3c572825bc57bebff inherit pub_methods_classframework_1_1Producer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classframework_1_1EventProcessor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classframework_1_1EventProcessor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classframework_1_1EventProcessor.html">framework::EventProcessor</a></td></tr>
<tr class="memitem:a7b079c9d4c0ac12bd9d1342073a6ae19 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a7b079c9d4c0ac12bd9d1342073a6ae19">EventProcessor</a> (const std::string &amp;name, <a class="el" href="classframework_1_1Process.html">Process</a> &amp;process)</td></tr>
<tr class="separator:a7b079c9d4c0ac12bd9d1342073a6ae19 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9cc0358f4d501e403263b19ddc613c inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#aaa9cc0358f4d501e403263b19ddc613c">~EventProcessor</a> ()</td></tr>
<tr class="separator:aaa9cc0358f4d501e403263b19ddc613c inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e19454e18fd62bc2081d40b3f41c62 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a93e19454e18fd62bc2081d40b3f41c62">onNewRun</a> (const <a class="el" href="classldmx_1_1RunHeader.html">ldmx::RunHeader</a> &amp;runHeader)</td></tr>
<tr class="separator:a93e19454e18fd62bc2081d40b3f41c62 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab717fa73bbfb14424eb856e87b760e2c inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ab717fa73bbfb14424eb856e87b760e2c">onFileOpen</a> (<a class="el" href="classframework_1_1EventFile.html">EventFile</a> &amp;eventFile)</td></tr>
<tr class="separator:ab717fa73bbfb14424eb856e87b760e2c inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6692c259d89b5ad39ceb2a302cd7e0e5 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a6692c259d89b5ad39ceb2a302cd7e0e5">onFileClose</a> (<a class="el" href="classframework_1_1EventFile.html">EventFile</a> &amp;eventFile)</td></tr>
<tr class="separator:a6692c259d89b5ad39ceb2a302cd7e0e5 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab54bb3abaafcb4f4b4b42d0a2ff616a9 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ab54bb3abaafcb4f4b4b42d0a2ff616a9">onProcessStart</a> ()</td></tr>
<tr class="separator:ab54bb3abaafcb4f4b4b42d0a2ff616a9 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527ebdf1fe665011964d9ce42a5521ad inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a527ebdf1fe665011964d9ce42a5521ad">onProcessEnd</a> ()</td></tr>
<tr class="separator:a527ebdf1fe665011964d9ce42a5521ad inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfbb5c6279eb9095d56bbb31653aa73 inherit pub_methods_classframework_1_1EventProcessor"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a7cfbb5c6279eb9095d56bbb31653aa73 inherit pub_methods_classframework_1_1EventProcessor"><td class="memTemplItemLeft" align="right" valign="top">const T &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a7cfbb5c6279eb9095d56bbb31653aa73">getCondition</a> (const std::string &amp;condition_name)</td></tr>
<tr class="separator:a7cfbb5c6279eb9095d56bbb31653aa73 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae243bb073918259e747a8f8f144b0053 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">TDirectory *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ae243bb073918259e747a8f8f144b0053">getHistoDirectory</a> ()</td></tr>
<tr class="separator:ae243bb073918259e747a8f8f144b0053 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f93ec80a4207c3847d629482e81989d inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a2f93ec80a4207c3847d629482e81989d">setStorageHint</a> (framework::StorageControlHint hint)</td></tr>
<tr class="separator:a2f93ec80a4207c3847d629482e81989d inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc5699b669ced944eac4eeea2ade915 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#aacc5699b669ced944eac4eeea2ade915">setStorageHint</a> (framework::StorageControlHint hint, const std::string &amp;purposeString)</td></tr>
<tr class="separator:aacc5699b669ced944eac4eeea2ade915 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af212ff21b3ebec223facbfb02502ecdf inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#af212ff21b3ebec223facbfb02502ecdf">getLogFrequency</a> () const</td></tr>
<tr class="separator:af212ff21b3ebec223facbfb02502ecdf inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde4ce813307a7d232eb5f4eda859b42 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#adde4ce813307a7d232eb5f4eda859b42">getRunNumber</a> () const</td></tr>
<tr class="separator:adde4ce813307a7d232eb5f4eda859b42 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9467d0d35043af7ed66a6b46cbca85ca inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a9467d0d35043af7ed66a6b46cbca85ca">getName</a> () const</td></tr>
<tr class="separator:a9467d0d35043af7ed66a6b46cbca85ca inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed5966370da67ee0c89f7d6f9c8436d inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a5ed5966370da67ee0c89f7d6f9c8436d">createHistograms</a> (const std::vector&lt; <a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &gt; &amp;histos)</td></tr>
<tr class="separator:a5ed5966370da67ee0c89f7d6f9c8436d inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:adb7cd2efb2f205499f494b614db3b73e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#adb7cd2efb2f205499f494b614db3b73e">digiCollName_</a></td></tr>
<tr class="memdesc:adb7cd2efb2f205499f494b614db3b73e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Digi Collection Name to use as input.  <a href="classhcal_1_1HcalRecProducer.html#adb7cd2efb2f205499f494b614db3b73e">More...</a><br /></td></tr>
<tr class="separator:adb7cd2efb2f205499f494b614db3b73e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a90caf17300e00616f0e426c6618396"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a6a90caf17300e00616f0e426c6618396">digiPassName_</a></td></tr>
<tr class="memdesc:a6a90caf17300e00616f0e426c6618396"><td class="mdescLeft">&#160;</td><td class="mdescRight">Digi Pass Name to use as input.  <a href="classhcal_1_1HcalRecProducer.html#a6a90caf17300e00616f0e426c6618396">More...</a><br /></td></tr>
<tr class="separator:a6a90caf17300e00616f0e426c6618396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a37dc07e2d626a0564aae7e584ce8f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a72a37dc07e2d626a0564aae7e584ce8f">simHitCollName_</a></td></tr>
<tr class="memdesc:a72a37dc07e2d626a0564aae7e584ce8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">simhit collection name  <a href="classhcal_1_1HcalRecProducer.html#a72a37dc07e2d626a0564aae7e584ce8f">More...</a><br /></td></tr>
<tr class="separator:a72a37dc07e2d626a0564aae7e584ce8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44e209e6e767fd49a0188608ee77353"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#ab44e209e6e767fd49a0188608ee77353">simHitPassName_</a></td></tr>
<tr class="memdesc:ab44e209e6e767fd49a0188608ee77353"><td class="mdescLeft">&#160;</td><td class="mdescRight">simhit pass name  <a href="classhcal_1_1HcalRecProducer.html#ab44e209e6e767fd49a0188608ee77353">More...</a><br /></td></tr>
<tr class="separator:ab44e209e6e767fd49a0188608ee77353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50499832faa1bcf89786ff79a0dc901a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a50499832faa1bcf89786ff79a0dc901a">recHitCollName_</a></td></tr>
<tr class="memdesc:a50499832faa1bcf89786ff79a0dc901a"><td class="mdescLeft">&#160;</td><td class="mdescRight">output hit collection name  <a href="classhcal_1_1HcalRecProducer.html#a50499832faa1bcf89786ff79a0dc901a">More...</a><br /></td></tr>
<tr class="separator:a50499832faa1bcf89786ff79a0dc901a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91673261f753075b8d3d297169f04092"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a91673261f753075b8d3d297169f04092">mip_energy_</a></td></tr>
<tr class="memdesc:a91673261f753075b8d3d297169f04092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Energy [MeV] deposited by a MIP.  <a href="classhcal_1_1HcalRecProducer.html#a91673261f753075b8d3d297169f04092">More...</a><br /></td></tr>
<tr class="separator:a91673261f753075b8d3d297169f04092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf3fc64fea77471b9758ee3d3cf5f0d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#acbf3fc64fea77471b9758ee3d3cf5f0d">pe_per_mip_</a></td></tr>
<tr class="memdesc:acbf3fc64fea77471b9758ee3d3cf5f0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">PEs per MIP.  <a href="classhcal_1_1HcalRecProducer.html#acbf3fc64fea77471b9758ee3d3cf5f0d">More...</a><br /></td></tr>
<tr class="separator:acbf3fc64fea77471b9758ee3d3cf5f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e69fd1e2928a129a3c3dd9f5fca63e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a></td></tr>
<tr class="memdesc:a15e69fd1e2928a129a3c3dd9f5fca63e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of clock cycle [ns].  <a href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">More...</a><br /></td></tr>
<tr class="separator:a15e69fd1e2928a129a3c3dd9f5fca63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18144b8643e89036ad801fdabf529900"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a18144b8643e89036ad801fdabf529900">voltage_per_mip_</a></td></tr>
<tr class="memdesc:a18144b8643e89036ad801fdabf529900"><td class="mdescLeft">&#160;</td><td class="mdescRight">Voltage by average MIP.  <a href="classhcal_1_1HcalRecProducer.html#a18144b8643e89036ad801fdabf529900">More...</a><br /></td></tr>
<tr class="separator:a18144b8643e89036ad801fdabf529900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46d2a8d6446c74e4ab2c63cb9adc2a1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#aa46d2a8d6446c74e4ab2c63cb9adc2a1">attlength_</a></td></tr>
<tr class="memdesc:aa46d2a8d6446c74e4ab2c63cb9adc2a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Strip attenuation length [m].  <a href="classhcal_1_1HcalRecProducer.html#aa46d2a8d6446c74e4ab2c63cb9adc2a1">More...</a><br /></td></tr>
<tr class="separator:aa46d2a8d6446c74e4ab2c63cb9adc2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74278be50f846e983694be2e6a39325"><td class="memItemLeft" align="right" valign="top">TF1&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a></td></tr>
<tr class="memdesc:ac74278be50f846e983694be2e6a39325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pulse function.  <a href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">More...</a><br /></td></tr>
<tr class="separator:ac74278be50f846e983694be2e6a39325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe91fe2807a3ef3c9b8bdf5192303ba"><td class="memItemLeft" align="right" valign="top">TGraph&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a3fe91fe2807a3ef3c9b8bdf5192303ba">correctionAmpl_</a></td></tr>
<tr class="separator:a3fe91fe2807a3ef3c9b8bdf5192303ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06caf5d5cb8b787cd1aeeb27898bd62b"><td class="memItemLeft" align="right" valign="top">TGraph&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a06caf5d5cb8b787cd1aeeb27898bd62b">correctionTOA_</a></td></tr>
<tr class="separator:a06caf5d5cb8b787cd1aeeb27898bd62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10bcc47cc0ea75e43d0f1649b6d33c09"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a10bcc47cc0ea75e43d0f1649b6d33c09">minAmplFraction_</a></td></tr>
<tr class="memdesc:a10bcc47cc0ea75e43d0f1649b6d33c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum amplitude fraction to apply amplitude correction.  <a href="classhcal_1_1HcalRecProducer.html#a10bcc47cc0ea75e43d0f1649b6d33c09">More...</a><br /></td></tr>
<tr class="separator:a10bcc47cc0ea75e43d0f1649b6d33c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aea7094d6ceda7753010e3c14379344"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a8aea7094d6ceda7753010e3c14379344">minAmpl_</a></td></tr>
<tr class="memdesc:a8aea7094d6ceda7753010e3c14379344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum amplitude to apply TOA correction.  <a href="classhcal_1_1HcalRecProducer.html#a8aea7094d6ceda7753010e3c14379344">More...</a><br /></td></tr>
<tr class="separator:a8aea7094d6ceda7753010e3c14379344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a00979827a72d7ef9e5d4c1b453247c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a8a00979827a72d7ef9e5d4c1b453247c">nADCs_</a></td></tr>
<tr class="memdesc:a8a00979827a72d7ef9e5d4c1b453247c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Depth of ADC buffer.  <a href="classhcal_1_1HcalRecProducer.html#a8a00979827a72d7ef9e5d4c1b453247c">More...</a><br /></td></tr>
<tr class="separator:a8a00979827a72d7ef9e5d4c1b453247c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bcd6c22dc48cfdc1bd42067eab248f1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a6bcd6c22dc48cfdc1bd42067eab248f1">rateUpSlope_</a></td></tr>
<tr class="memdesc:a6bcd6c22dc48cfdc1bd42067eab248f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rate of Up Slope in Pulse Shape [1/ns].  <a href="classhcal_1_1HcalRecProducer.html#a6bcd6c22dc48cfdc1bd42067eab248f1">More...</a><br /></td></tr>
<tr class="separator:a6bcd6c22dc48cfdc1bd42067eab248f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4130a14cfb0eb84e539a27a0454081f9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a4130a14cfb0eb84e539a27a0454081f9">timeUpSlope_</a></td></tr>
<tr class="memdesc:a4130a14cfb0eb84e539a27a0454081f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time of Up Slope relative to Pulse Shape Fit [ns].  <a href="classhcal_1_1HcalRecProducer.html#a4130a14cfb0eb84e539a27a0454081f9">More...</a><br /></td></tr>
<tr class="separator:a4130a14cfb0eb84e539a27a0454081f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde22da329148fc119f0d05ec187af94"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#acde22da329148fc119f0d05ec187af94">rateDnSlope_</a></td></tr>
<tr class="memdesc:acde22da329148fc119f0d05ec187af94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rate of Down Slope in Pulse Shape [1/ns].  <a href="classhcal_1_1HcalRecProducer.html#acde22da329148fc119f0d05ec187af94">More...</a><br /></td></tr>
<tr class="separator:acde22da329148fc119f0d05ec187af94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6abd34d57b618b055bb75de6a4424dbb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a6abd34d57b618b055bb75de6a4424dbb">timeDnSlope_</a></td></tr>
<tr class="memdesc:a6abd34d57b618b055bb75de6a4424dbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time of Down Slope relative to Pulse Shape Fit [ns].  <a href="classhcal_1_1HcalRecProducer.html#a6abd34d57b618b055bb75de6a4424dbb">More...</a><br /></td></tr>
<tr class="separator:a6abd34d57b618b055bb75de6a4424dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9cb8e143fe0290812012c72e768fd5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhcal_1_1HcalRecProducer.html#a8b9cb8e143fe0290812012c72e768fd5">timePeak_</a></td></tr>
<tr class="memdesc:a8b9cb8e143fe0290812012c72e768fd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time of Peak relative to pulse shape fit [ns].  <a href="classhcal_1_1HcalRecProducer.html#a8b9cb8e143fe0290812012c72e768fd5">More...</a><br /></td></tr>
<tr class="separator:a8b9cb8e143fe0290812012c72e768fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classframework_1_1EventProcessor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classframework_1_1EventProcessor')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classframework_1_1EventProcessor.html">framework::EventProcessor</a></td></tr>
<tr class="memitem:a055eb62b2fdde542be4225dfe3a7f9c9 inherit pub_static_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a055eb62b2fdde542be4225dfe3a7f9c9">declare</a> (const std::string &amp;classname, int classtype, <a class="el" href="namespaceframework.html#a3cc065ab8608a2973b4c60767177d483">EventProcessorMaker</a> *)</td></tr>
<tr class="separator:a055eb62b2fdde542be4225dfe3a7f9c9 inherit pub_static_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classframework_1_1Producer"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classframework_1_1Producer')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classframework_1_1Producer.html">framework::Producer</a></td></tr>
<tr class="memitem:a6433d7808e67a79fc83d4c6f7e57224a inherit pub_static_attribs_classframework_1_1Producer"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1Producer.html#a6433d7808e67a79fc83d4c6f7e57224a">CLASSTYPE</a> {1}</td></tr>
<tr class="separator:a6433d7808e67a79fc83d4c6f7e57224a inherit pub_static_attribs_classframework_1_1Producer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classframework_1_1EventProcessor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classframework_1_1EventProcessor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classframework_1_1EventProcessor.html">framework::EventProcessor</a></td></tr>
<tr class="memitem:a8d42387da8fbb2d1f01f5ecebb64dd7d inherit pro_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a8d42387da8fbb2d1f01f5ecebb64dd7d">abortEvent</a> ()</td></tr>
<tr class="separator:a8d42387da8fbb2d1f01f5ecebb64dd7d inherit pro_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classframework_1_1EventProcessor"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classframework_1_1EventProcessor')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classframework_1_1EventProcessor.html">framework::EventProcessor</a></td></tr>
<tr class="memitem:ae8a2bfe0849be1531e195438c1eaba4c inherit pro_attribs_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classframework_1_1HistogramHelper.html">HistogramHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ae8a2bfe0849be1531e195438c1eaba4c">histograms_</a></td></tr>
<tr class="memdesc:ae8a2bfe0849be1531e195438c1eaba4c inherit pro_attribs_classframework_1_1EventProcessor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface class for making and filling histograms.  <a href="classframework_1_1EventProcessor.html#ae8a2bfe0849be1531e195438c1eaba4c">More...</a><br /></td></tr>
<tr class="separator:ae8a2bfe0849be1531e195438c1eaba4c inherit pro_attribs_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410e35c73c9b196961e5c35127321814 inherit pro_attribs_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classframework_1_1NtupleManager.html">NtupleManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a410e35c73c9b196961e5c35127321814">ntuple_</a> {<a class="el" href="classframework_1_1NtupleManager.html#a95b2bb3823b5a35568c5facb85d441d1">NtupleManager::getInstance</a>()}</td></tr>
<tr class="memdesc:a410e35c73c9b196961e5c35127321814 inherit pro_attribs_classframework_1_1EventProcessor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manager for any ntuples.  <a href="classframework_1_1EventProcessor.html#a410e35c73c9b196961e5c35127321814">More...</a><br /></td></tr>
<tr class="separator:a410e35c73c9b196961e5c35127321814 inherit pro_attribs_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae350c3e5c91a69b8910bf1229ed21430 inherit pro_attribs_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">logging::logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ae350c3e5c91a69b8910bf1229ed21430">theLog_</a></td></tr>
<tr class="memdesc:ae350c3e5c91a69b8910bf1229ed21430 inherit pro_attribs_classframework_1_1EventProcessor"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logger for this <a class="el" href="classframework_1_1EventProcessor.html" title="Base class for all event processing components.">EventProcessor</a>.  <a href="classframework_1_1EventProcessor.html#ae350c3e5c91a69b8910bf1229ed21430">More...</a><br /></td></tr>
<tr class="separator:ae350c3e5c91a69b8910bf1229ed21430 inherit pro_attribs_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Performs basic HCal reconstruction. </p>
<p >Reconstruction is done from the HcalDigi samples. Some hard-coded parameters are used for position and energy calculation. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00043">43</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5d54ce14541a0921675201b3699a64f6" name="a5d54ce14541a0921675201b3699a64f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d54ce14541a0921675201b3699a64f6">&#9670;&nbsp;</a></span>HcalRecProducer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hcal::HcalRecProducer::HcalRecProducer </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classframework_1_1Process.html">framework::Process</a> &amp;&#160;</td>
          <td class="paramname"><em>process</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructor </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8cxx_source.html#l00014">14</a> of file <a class="el" href="HcalRecProducer_8cxx_source.html">HcalRecProducer.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>    : <a class="code hl_function" href="classframework_1_1Producer.html#a27ea7492352028e450f24f4750c62e1b">Producer</a>(name, process) {}</div>
<div class="ttc" id="aclassframework_1_1Producer_html_a27ea7492352028e450f24f4750c62e1b"><div class="ttname"><a href="classframework_1_1Producer.html#a27ea7492352028e450f24f4750c62e1b">framework::Producer::Producer</a></div><div class="ttdeci">Producer(const std::string &amp;name, Process &amp;process)</div><div class="ttdef"><b>Definition:</b> <a href="EventProcessor_8cxx_source.html#l00068">EventProcessor.cxx:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad08bbfebb6f9c6ec3a761bdc8e761c29" name="ad08bbfebb6f9c6ec3a761bdc8e761c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08bbfebb6f9c6ec3a761bdc8e761c29">&#9670;&nbsp;</a></span>~HcalRecProducer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">hcal::HcalRecProducer::~HcalRecProducer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6994bf36c7db11e3022052c3b08d3cd4" name="a6994bf36c7db11e3022052c3b08d3cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6994bf36c7db11e3022052c3b08d3cd4">&#9670;&nbsp;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void hcal::HcalRecProducer::configure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>ps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Grabs configure parameters from the python config file. </p>

<p>Reimplemented from <a class="el" href="classframework_1_1EventProcessor.html#a21156f6f3954394925e9a265de9d702a">framework::EventProcessor</a>.</p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">18</a> of file <a class="el" href="HcalRecProducer_8cxx_source.html">HcalRecProducer.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>                                                             {</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>  <span class="comment">// collection names</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#adb7cd2efb2f205499f494b614db3b73e">digiCollName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;digiCollName&quot;</span>);</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a6a90caf17300e00616f0e426c6618396">digiPassName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;digiPassName&quot;</span>);</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a72a37dc07e2d626a0564aae7e584ce8f">simHitCollName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;simHitCollName&quot;</span>);</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ab44e209e6e767fd49a0188608ee77353">simHitPassName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;simHitPassName&quot;</span>);</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a50499832faa1bcf89786ff79a0dc901a">recHitCollName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;recHitCollName&quot;</span>);</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>  <span class="comment">// parameters</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a91673261f753075b8d3d297169f04092">mip_energy_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;mip_energy&quot;</span>);</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#acbf3fc64fea77471b9758ee3d3cf5f0d">pe_per_mip_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;pe_per_mip&quot;</span>);</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;clock_cycle&quot;</span>);</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a18144b8643e89036ad801fdabf529900">voltage_per_mip_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;voltage_per_mip&quot;</span>);</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#aa46d2a8d6446c74e4ab2c63cb9adc2a1">attlength_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;attenuationLength&quot;</span>);</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8a00979827a72d7ef9e5d4c1b453247c">nADCs_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;nADCs&quot;</span>);</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>  <span class="comment">// configuring corrections graphs derived on the fly</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>  <span class="comment">// TODO: maybe we should save these as a graph instead?</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a6bcd6c22dc48cfdc1bd42067eab248f1">rateUpSlope_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;rateUpSlope&quot;</span>);</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a4130a14cfb0eb84e539a27a0454081f9">timeUpSlope_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;timeUpSlope&quot;</span>);</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#acde22da329148fc119f0d05ec187af94">rateDnSlope_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;rateDnSlope&quot;</span>);</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a6abd34d57b618b055bb75de6a4424dbb">timeDnSlope_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;timeDnSlope&quot;</span>);</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8b9cb8e143fe0290812012c72e768fd5">timePeak_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;timePeak&quot;</span>);</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a> =</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>      TF1(<span class="stringliteral">&quot;pulseFunc&quot;</span>,</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>          <span class="stringliteral">&quot;[0]*((1.0+exp([1]*(-[2]+[3])))*(1.0+exp([5]*(-[6]+[3]))))/&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>          <span class="stringliteral">&quot;((1.0+exp([1]*(x-[2]+[3]-[4])))*(1.0+exp([5]*(x-[6]+[3]-[4]))))&quot;</span>,</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>          (<span class="keywordtype">double</span>)<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8a00979827a72d7ef9e5d4c1b453247c">nADCs_</a> * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a> * -1, (<span class="keywordtype">double</span>)<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8a00979827a72d7ef9e5d4c1b453247c">nADCs_</a> * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a>);</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.FixParameter(1, <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a6bcd6c22dc48cfdc1bd42067eab248f1">rateUpSlope_</a>);</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.FixParameter(2, <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a4130a14cfb0eb84e539a27a0454081f9">timeUpSlope_</a>);</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.FixParameter(3, <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8b9cb8e143fe0290812012c72e768fd5">timePeak_</a>);</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.FixParameter(5, <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#acde22da329148fc119f0d05ec187af94">rateDnSlope_</a>);</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.FixParameter(6, <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a6abd34d57b618b055bb75de6a4424dbb">timeDnSlope_</a>);</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.FixParameter(4, 0);</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.FixParameter(0, 1);</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>  <span class="comment">// build amplitude correction (Ampl[t-1]/Ampl[t]) with pulse-shape</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  <span class="keywordtype">int</span> n = 0;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>  <span class="keywordflow">for</span> (<span class="keywordtype">double</span> t = -<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a>; t &lt; <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a>; t += 0.01) {</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="keywordtype">double</span> ampl_t = <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.Eval(t);</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="keywordtype">double</span> ampl_tm1 = <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.Eval(t - <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a>);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keywordflow">if</span> (ampl_tm1 &gt; ampl_t) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a3fe91fe2807a3ef3c9b8bdf5192303ba">correctionAmpl_</a>.SetPoint(n, ampl_tm1 / ampl_t, ampl_t);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordflow">if</span> (n == 0) <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a10bcc47cc0ea75e43d0f1649b6d33c09">minAmplFraction_</a> = ampl_tm1 / ampl_t;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    n++;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>  }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>  <span class="comment">// build TOA timewalk correction with pulse-shape</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>  <span class="keywordtype">double</span> toaThreshold = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;avgToaThreshold&quot;</span>);</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>  <span class="keywordtype">double</span> gain = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;avgGain&quot;</span>);</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  <span class="keywordtype">double</span> pedestal = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;avgPedestal&quot;</span>);</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  n = 0;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  <span class="keywordflow">for</span> (<span class="keywordtype">double</span> ampl = toaThreshold + 0.1; ampl &lt; 10000; ampl += 0.01) {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.FixParameter(0, ampl);</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="keywordtype">double</span> ampl_t = gain * pedestal + <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.Eval(0);</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="keywordtype">double</span> toa =</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>        fabs(<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">pulseFunc_</a>.GetX(toaThreshold, (<span class="keywordtype">double</span>)<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8a00979827a72d7ef9e5d4c1b453247c">nADCs_</a> * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a> * -1,</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>                             (<span class="keywordtype">double</span>)<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8a00979827a72d7ef9e5d4c1b453247c">nADCs_</a> * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a>));</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a06caf5d5cb8b787cd1aeeb27898bd62b">correctionTOA_</a>.SetPoint(n, ampl_t, toa);</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="keywordflow">if</span> (n == 0) <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8aea7094d6ceda7753010e3c14379344">minAmpl_</a> = ampl_t;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    n++;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>  }</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>}</div>
<div class="ttc" id="aclassframework_1_1config_1_1Parameters_html_a18206b7c01007dd706abce7e5505eae1"><div class="ttname"><a href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">framework::config::Parameters::getParameter</a></div><div class="ttdeci">T getParameter(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="Parameters_8h_source.html#l00089">Parameters.h:89</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a06caf5d5cb8b787cd1aeeb27898bd62b"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a06caf5d5cb8b787cd1aeeb27898bd62b">hcal::HcalRecProducer::correctionTOA_</a></div><div class="ttdeci">TGraph correctionTOA_</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00127">HcalRecProducer.h:127</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a10bcc47cc0ea75e43d0f1649b6d33c09"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a10bcc47cc0ea75e43d0f1649b6d33c09">hcal::HcalRecProducer::minAmplFraction_</a></div><div class="ttdeci">double minAmplFraction_</div><div class="ttdoc">Minimum amplitude fraction to apply amplitude correction.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00130">HcalRecProducer.h:130</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a15e69fd1e2928a129a3c3dd9f5fca63e"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">hcal::HcalRecProducer::clock_cycle_</a></div><div class="ttdeci">double clock_cycle_</div><div class="ttdoc">Length of clock cycle [ns].</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00099">HcalRecProducer.h:99</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a18144b8643e89036ad801fdabf529900"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a18144b8643e89036ad801fdabf529900">hcal::HcalRecProducer::voltage_per_mip_</a></div><div class="ttdeci">double voltage_per_mip_</div><div class="ttdoc">Voltage by average MIP.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00102">HcalRecProducer.h:102</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a3fe91fe2807a3ef3c9b8bdf5192303ba"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a3fe91fe2807a3ef3c9b8bdf5192303ba">hcal::HcalRecProducer::correctionAmpl_</a></div><div class="ttdeci">TGraph correctionAmpl_</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00116">HcalRecProducer.h:116</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a4130a14cfb0eb84e539a27a0454081f9"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a4130a14cfb0eb84e539a27a0454081f9">hcal::HcalRecProducer::timeUpSlope_</a></div><div class="ttdeci">double timeUpSlope_</div><div class="ttdoc">Time of Up Slope relative to Pulse Shape Fit [ns].</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00142">HcalRecProducer.h:142</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a50499832faa1bcf89786ff79a0dc901a"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a50499832faa1bcf89786ff79a0dc901a">hcal::HcalRecProducer::recHitCollName_</a></div><div class="ttdeci">std::string recHitCollName_</div><div class="ttdoc">output hit collection name</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00090">HcalRecProducer.h:90</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a6a90caf17300e00616f0e426c6618396"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a6a90caf17300e00616f0e426c6618396">hcal::HcalRecProducer::digiPassName_</a></div><div class="ttdeci">std::string digiPassName_</div><div class="ttdoc">Digi Pass Name to use as input.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00081">HcalRecProducer.h:81</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a6abd34d57b618b055bb75de6a4424dbb"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a6abd34d57b618b055bb75de6a4424dbb">hcal::HcalRecProducer::timeDnSlope_</a></div><div class="ttdeci">double timeDnSlope_</div><div class="ttdoc">Time of Down Slope relative to Pulse Shape Fit [ns].</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00148">HcalRecProducer.h:148</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a6bcd6c22dc48cfdc1bd42067eab248f1"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a6bcd6c22dc48cfdc1bd42067eab248f1">hcal::HcalRecProducer::rateUpSlope_</a></div><div class="ttdeci">double rateUpSlope_</div><div class="ttdoc">Rate of Up Slope in Pulse Shape [1/ns].</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00139">HcalRecProducer.h:139</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a72a37dc07e2d626a0564aae7e584ce8f"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a72a37dc07e2d626a0564aae7e584ce8f">hcal::HcalRecProducer::simHitCollName_</a></div><div class="ttdeci">std::string simHitCollName_</div><div class="ttdoc">simhit collection name</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00084">HcalRecProducer.h:84</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a8a00979827a72d7ef9e5d4c1b453247c"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a8a00979827a72d7ef9e5d4c1b453247c">hcal::HcalRecProducer::nADCs_</a></div><div class="ttdeci">int nADCs_</div><div class="ttdoc">Depth of ADC buffer.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00136">HcalRecProducer.h:136</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a8aea7094d6ceda7753010e3c14379344"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a8aea7094d6ceda7753010e3c14379344">hcal::HcalRecProducer::minAmpl_</a></div><div class="ttdeci">double minAmpl_</div><div class="ttdoc">Minimum amplitude to apply TOA correction.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00133">HcalRecProducer.h:133</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a8b9cb8e143fe0290812012c72e768fd5"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a8b9cb8e143fe0290812012c72e768fd5">hcal::HcalRecProducer::timePeak_</a></div><div class="ttdeci">double timePeak_</div><div class="ttdoc">Time of Peak relative to pulse shape fit [ns].</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00151">HcalRecProducer.h:151</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a91673261f753075b8d3d297169f04092"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a91673261f753075b8d3d297169f04092">hcal::HcalRecProducer::mip_energy_</a></div><div class="ttdeci">double mip_energy_</div><div class="ttdoc">Energy [MeV] deposited by a MIP.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00093">HcalRecProducer.h:93</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_aa46d2a8d6446c74e4ab2c63cb9adc2a1"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#aa46d2a8d6446c74e4ab2c63cb9adc2a1">hcal::HcalRecProducer::attlength_</a></div><div class="ttdeci">double attlength_</div><div class="ttdoc">Strip attenuation length [m].</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00105">HcalRecProducer.h:105</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_ab44e209e6e767fd49a0188608ee77353"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#ab44e209e6e767fd49a0188608ee77353">hcal::HcalRecProducer::simHitPassName_</a></div><div class="ttdeci">std::string simHitPassName_</div><div class="ttdoc">simhit pass name</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00087">HcalRecProducer.h:87</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_ac74278be50f846e983694be2e6a39325"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#ac74278be50f846e983694be2e6a39325">hcal::HcalRecProducer::pulseFunc_</a></div><div class="ttdeci">TF1 pulseFunc_</div><div class="ttdoc">Pulse function.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00108">HcalRecProducer.h:108</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_acbf3fc64fea77471b9758ee3d3cf5f0d"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#acbf3fc64fea77471b9758ee3d3cf5f0d">hcal::HcalRecProducer::pe_per_mip_</a></div><div class="ttdeci">double pe_per_mip_</div><div class="ttdoc">PEs per MIP.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00096">HcalRecProducer.h:96</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_acde22da329148fc119f0d05ec187af94"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#acde22da329148fc119f0d05ec187af94">hcal::HcalRecProducer::rateDnSlope_</a></div><div class="ttdeci">double rateDnSlope_</div><div class="ttdoc">Rate of Down Slope in Pulse Shape [1/ns].</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00145">HcalRecProducer.h:145</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_adb7cd2efb2f205499f494b614db3b73e"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#adb7cd2efb2f205499f494b614db3b73e">hcal::HcalRecProducer::digiCollName_</a></div><div class="ttdeci">std::string digiCollName_</div><div class="ttdoc">Digi Collection Name to use as input.</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8h_source.html#l00078">HcalRecProducer.h:78</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="HcalRecProducer_8h_source.html#l00105">attlength_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00099">clock_cycle_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00116">correctionAmpl_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00127">correctionTOA_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00078">digiCollName_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00081">digiPassName_</a>, <a class="el" href="Parameters_8h_source.html#l00089">framework::config::Parameters::getParameter()</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00133">minAmpl_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00130">minAmplFraction_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00093">mip_energy_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00136">nADCs_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00096">pe_per_mip_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00108">pulseFunc_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00145">rateDnSlope_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00139">rateUpSlope_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00090">recHitCollName_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00084">simHitCollName_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00087">simHitPassName_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00148">timeDnSlope_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00151">timePeak_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00142">timeUpSlope_</a>, and <a class="el" href="HcalRecProducer_8h_source.html#l00102">voltage_per_mip_</a>.</p>

</div>
</div>
<a id="a43de8030b6bda5092fb5f35fdfeaa601" name="a43de8030b6bda5092fb5f35fdfeaa601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43de8030b6bda5092fb5f35fdfeaa601">&#9670;&nbsp;</a></span>getTOA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::getTOA </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classldmx_1_1HgcrocDigiCollection_1_1HgcrocDigi.html">ldmx::HgcrocDigiCollection::HgcrocDigi</a>&#160;</td>
          <td class="paramname"><em>digi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pedestal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>iSOI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Gets Time of Arrival with respect to the SOI. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8cxx_source.html#l00082">82</a> of file <a class="el" href="HcalRecProducer_8cxx_source.html">HcalRecProducer.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>                       {</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>  <span class="comment">// get toa relative to the startBX</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>  <span class="keywordtype">double</span> toaRelStartBX(0.), maxMeas{0.};</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>  <span class="keywordtype">int</span> toaSample(0), maxSample(0), iADC(0);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = digi.<a class="code hl_function" href="classldmx_1_1HgcrocDigiCollection_1_1HgcrocDigi.html#a65be6f37fc66595b5ab99893ddbcb60c">begin</a>(); it &lt; digi.<a class="code hl_function" href="classldmx_1_1HgcrocDigiCollection_1_1HgcrocDigi.html#abe0577c5ef29967b16973b8ff4129e02">end</a>(); it++) {</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordflow">if</span> (it-&gt;toa() &gt; 0) {</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>      toaRelStartBX = it-&gt;toa() * (<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a> / 1024);  <span class="comment">// ns</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>      <span class="comment">// find in which ADC sample the TOA was taken</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>      toaSample = iADC;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    }</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="keywordflow">if</span> ((it-&gt;adc_t() - pedestal) &gt; maxMeas) {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>      maxMeas = (it-&gt;adc_t() - pedestal);</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>      maxSample = iADC;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    }</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    iADC++;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>  }</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>  <span class="comment">// time w.r.t to the peak</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>  <span class="keywordtype">double</span> toa = (maxSample - toaSample) * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a> - toaRelStartBX;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>  <span class="comment">// time w.r.t to the SOI</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>  toa += ((int)iSOI - maxSample) * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a15e69fd1e2928a129a3c3dd9f5fca63e">clock_cycle_</a>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>  <span class="keywordflow">return</span> toa;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>}</div>
<div class="ttc" id="aclassldmx_1_1HgcrocDigiCollection_1_1HgcrocDigi_html_a65be6f37fc66595b5ab99893ddbcb60c"><div class="ttname"><a href="classldmx_1_1HgcrocDigiCollection_1_1HgcrocDigi.html#a65be6f37fc66595b5ab99893ddbcb60c">ldmx::HgcrocDigiCollection::HgcrocDigi::begin</a></div><div class="ttdeci">auto begin() const</div><div class="ttdef"><b>Definition:</b> <a href="HgcrocDigiCollection_8h_source.html#l00235">HgcrocDigiCollection.h:235</a></div></div>
<div class="ttc" id="aclassldmx_1_1HgcrocDigiCollection_1_1HgcrocDigi_html_abe0577c5ef29967b16973b8ff4129e02"><div class="ttname"><a href="classldmx_1_1HgcrocDigiCollection_1_1HgcrocDigi.html#abe0577c5ef29967b16973b8ff4129e02">ldmx::HgcrocDigiCollection::HgcrocDigi::end</a></div><div class="ttdeci">auto end() const</div><div class="ttdef"><b>Definition:</b> <a href="HgcrocDigiCollection_8h_source.html#l00242">HgcrocDigiCollection.h:242</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="HgcrocDigiCollection_8h_source.html#l00235">ldmx::HgcrocDigiCollection::HgcrocDigi::begin()</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00099">clock_cycle_</a>, and <a class="el" href="HgcrocDigiCollection_8h_source.html#l00242">ldmx::HgcrocDigiCollection::HgcrocDigi::end()</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a0630d3f8c43833b6e644daef6aafd782" name="a0630d3f8c43833b6e644daef6aafd782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0630d3f8c43833b6e644daef6aafd782">&#9670;&nbsp;</a></span>produce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void hcal::HcalRecProducer::produce </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classframework_1_1Event.html">framework::Event</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Produce HcalHits and put them into the event bus using the HcalDigis as input.</p>
<p >This function unfolds the digi samples taken by the HGC ROC and reconstructs their energy using knowledge of how the chip operates and the position using HcalGeometry. </p>
<p >Simple calculation of sampling fraction: Thickness per layer: scintillator (0.2cm) + steel (0.25cm) Radiation length and nuclear interaction length: scintillator: X0 = 41.31cm, Lambda = 77.07cm <a href="https://pdg.lbl.gov/2017/AtomicNuclearProperties/HTML/polystyrene.html">https://pdg.lbl.gov/2017/AtomicNuclearProperties/HTML/polystyrene.html</a> steel X0 = 1.757cm, Lambda = 16.77cm <a href="https://pdg.lbl.gov/2012/AtomicNuclearProperties/HTML_PAGES/026.html">https://pdg.lbl.gov/2012/AtomicNuclearProperties/HTML_PAGES/026.html</a> Prob of EM interaction (e.g. pi0): thickness/X0*100 = (0.2/41.31)/ ((0.2/41.31)</p><ul>
<li><p class="startli">(0.25/1.757)) ~ 3.3% Prob of Had interaction (e.g. pi+/pi-): = (0.2/77.07)/ ((0.2/77.07) + (0.25/16.77)) ~ 15% Then e.g. for neutron assuming 1/3 pi0 and 2/3 pi+/- composition: sampling fraction ~ (1/3)*3.3.% + (2/3)*15% ~ 11% energy of neutron = energy_deposited / 0.11;</p>
<p class="startli">NOTE: For now, sampling fraction is not applied.</p>
</li>
</ul>

<p>Implements <a class="el" href="classframework_1_1Producer.html#a8591fb1e12fd5d8b1f2a5838d030042e">framework::Producer</a>.</p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">110</a> of file <a class="el" href="HcalRecProducer_8cxx_source.html">HcalRecProducer.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>                                                   {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <span class="comment">// get the Hcal Geometry</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; hcalGeometry = getCondition&lt;ldmx::HcalGeometry&gt;(</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>      <a class="code hl_variable" href="classldmx_1_1HcalGeometry.html#a509523c5f18a53d16be9d6a79e6e590a">ldmx::HcalGeometry::CONDITIONS_OBJECT_NAME</a>);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  <span class="comment">// get the reconstruction parameters</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>  HcalReconConditions the_conditions(</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>      getCondition&lt;conditions::DoubleTableCondition&gt;(</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>          <a class="code hl_variable" href="classhcal_1_1HcalReconConditions.html#a5177db6b660569fa13807234c222f0d3">HcalReconConditions::CONDITIONS_NAME</a>));</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>  std::vector&lt;ldmx::HcalHit&gt; hcalRecHits;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  <span class="keyword">auto</span> hcalDigis =</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>      <span class="keyword">event</span>.getObject&lt;<a class="code hl_class" href="classldmx_1_1HgcrocDigiCollection.html">ldmx::HgcrocDigiCollection</a>&gt;(<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#adb7cd2efb2f205499f494b614db3b73e">digiCollName_</a>, <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a6a90caf17300e00616f0e426c6618396">digiPassName_</a>);</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  <span class="keywordtype">int</span> numDigiHits = hcalDigis.<a class="code hl_function" href="classldmx_1_1HgcrocDigiCollection.html#ae3580a8a632b91b0ff4265346cc74715">getNumDigis</a>();</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>  <span class="comment">// get sample of interest index</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSOI = hcalDigis.getSampleOfInterestIndex();</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>  <span class="comment">// loop through digis</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  <span class="keywordtype">int</span> iDigi = 0;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>  <span class="keywordflow">while</span> (iDigi &lt; numDigiHits) {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keyword">auto</span> digi_posend = hcalDigis.getDigi(iDigi);</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// ID from first digi sample (which should be in positive end)</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <a class="code hl_class" href="classldmx_1_1HcalDigiID.html">ldmx::HcalDigiID</a> id_posend(digi_posend.id());</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <a class="code hl_class" href="classldmx_1_1HcalID.html">ldmx::HcalID</a> id(id_posend.section(), id_posend.layer(), id_posend.strip());</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// position from ID</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="keyword">auto</span> position = hcalGeometry.getStripCenterPosition(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="keywordtype">double</span> half_total_width = hcalGeometry.getHalfTotalWidth(<span class="keywordtype">id</span>.section(),<span class="keywordtype">id</span>.layer());</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keywordtype">double</span> ecal_dx = hcalGeometry.getEcalDx();</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="keywordtype">double</span> ecal_dy = hcalGeometry.getEcalDy();</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="comment">// compute distance to the end of the bar</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// for back Hcal, we take the half of the bar</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">// for side Hcal, we take the length of the bar (2*half-width)-Ecal_dxy as</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// an approximation</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keywordtype">float</span> distance_posend, distance_negend, distance_ecal;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span>.section() == ldmx::HcalID::HcalSection::BACK) {</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>      distance_posend = half_total_width;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>      distance_negend = half_total_width;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>      <span class="keywordflow">if</span> ((<span class="keywordtype">id</span>.section() == ldmx::HcalID::HcalSection::TOP) ||</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>          (<span class="keywordtype">id</span>.section() == ldmx::HcalID::HcalSection::BOTTOM))</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        distance_ecal = ecal_dx;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        distance_ecal = ecal_dy;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>      distance_posend = 2 * half_total_width - distance_ecal / 2.;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>      distance_negend = distance_ecal / 2.;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// get the estimated voltage and time from digi samples</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="keywordtype">double</span> voltage(0.);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="keywordtype">double</span> voltage_min(0.);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keywordtype">double</span> hitTime(0.);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="keywordtype">double</span> amplT(0.);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="keywordtype">double</span> amplT_posend(0.), amplTm1_posend(0.);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keywordtype">double</span> amplT_negend(0.), amplTm1_negend(0.);</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="comment">// double readout</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span>.section() == ldmx::HcalID::HcalSection::BACK) {</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>      <span class="keyword">auto</span> digi_negend = hcalDigis.getDigi(iDigi + 1);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>      <a class="code hl_class" href="classldmx_1_1HcalDigiID.html">ldmx::HcalDigiID</a> id_negend(digi_negend.id());</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>      <span class="keywordtype">double</span> voltage_posend, voltage_negend;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>      <span class="keywordtype">double</span> amplT_posend_copy, amplT_negend_copy;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>      <span class="keywordflow">if</span> (digi_posend.isTOT()) {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        voltage_posend =</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>            (digi_posend.tot() - the_conditions.totPedestal(id_posend)) *</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>            the_conditions.totGain(id_posend);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        voltage_negend =</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>            (digi_negend.tot() - the_conditions.totPedestal(id_negend)) *</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>            the_conditions.totGain(id_negend);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        amplT_posend =</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>            digi_posend.soi().adc_t() - the_conditions.adcPedestal(id_posend);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        amplTm1_posend =</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>            digi_posend.soi().adc_tm1() - the_conditions.adcPedestal(id_posend);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        amplT_negend =</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>            digi_negend.soi().adc_t() - the_conditions.adcPedestal(id_negend);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        amplTm1_negend =</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>            digi_negend.soi().adc_tm1() - the_conditions.adcPedestal(id_negend);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        amplT_posend_copy = amplT_posend;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        amplT_negend_copy = amplT_negend;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        <span class="comment">// correct amplitude (amplitude fractions from both ends need to be</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        <span class="comment">// above the boundary of the correction)</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        <span class="keywordflow">if</span> (amplTm1_posend / amplT_posend &gt; <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a10bcc47cc0ea75e43d0f1649b6d33c09">minAmplFraction_</a> &amp;&amp;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>            amplTm1_negend / amplT_negend &gt; <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a10bcc47cc0ea75e43d0f1649b6d33c09">minAmplFraction_</a>) {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>          amplT_posend *= <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a3fe91fe2807a3ef3c9b8bdf5192303ba">correctionAmpl_</a>.Eval(amplTm1_posend / amplT_posend);</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>          amplT_negend *= <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a3fe91fe2807a3ef3c9b8bdf5192303ba">correctionAmpl_</a>.Eval(amplTm1_negend / amplT_negend);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        <span class="comment">// set voltage</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        voltage_posend = amplT_posend * the_conditions.adcGain(id_posend);</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        voltage_negend = amplT_negend * the_conditions.adcGain(id_negend);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>      }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>      <span class="comment">// get TOA</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>      <span class="keywordtype">double</span> TOA_posend =</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>          <a class="code hl_function" href="classhcal_1_1HcalRecProducer.html#a43de8030b6bda5092fb5f35fdfeaa601">getTOA</a>(digi_posend, the_conditions.adcPedestal(id_posend), iSOI);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>      <span class="keywordtype">double</span> TOA_negend =</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>          <a class="code hl_function" href="classhcal_1_1HcalRecProducer.html#a43de8030b6bda5092fb5f35fdfeaa601">getTOA</a>(digi_negend, the_conditions.adcPedestal(id_negend), iSOI);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>      <span class="comment">// get sign of position along the bar</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>      <span class="keywordtype">int</span> position_bar_sign = (TOA_posend - TOA_negend) &gt; 0 ? 1 : -1;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>      <span class="keywordtype">double</span> TOA_posend_copy = TOA_posend;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>      <span class="keywordtype">double</span> TOA_negend_copy = TOA_negend;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>      <span class="comment">// correct TOA</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>      <span class="comment">// amplitudes from both ends need to be above the boundary of the</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>      <span class="comment">// correction otherwise, one TOA gets corrected and the other does not,</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>      <span class="comment">// which results in a large TOA difference and an out-of-bounds position</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>      <span class="keywordflow">if</span> (amplT_posend &gt; <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8aea7094d6ceda7753010e3c14379344">minAmpl_</a> &amp;&amp; amplT_negend &gt; <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a8aea7094d6ceda7753010e3c14379344">minAmpl_</a>) {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        TOA_posend = <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a06caf5d5cb8b787cd1aeeb27898bd62b">correctionTOA_</a>.Eval(amplT_posend) - TOA_posend;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        TOA_negend = <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a06caf5d5cb8b787cd1aeeb27898bd62b">correctionTOA_</a>.Eval(amplT_negend) - TOA_negend;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>      }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>      <span class="comment">// get x(y) coordinate from TOA measurement = (dt*v/2)</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>      <span class="comment">// if time_posend &lt; time_negend: position is positive</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>      <span class="keywordtype">double</span> v =</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>          299.792 / 1.6;  <span class="comment">// velocity of light in polystyrene, n = 1.6 = c/v</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>      <span class="keywordtype">double</span> position_bar =</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>          position_bar_sign * fabs(TOA_posend - TOA_negend) * v / 2;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>      <span class="comment">// reverse voltage attenuation</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>      <span class="comment">// if position along the bar is positive, then the positive end will have</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>      <span class="comment">// less attenuation than the negative end</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>      <span class="comment">// NOTE: For now, reverse attenuation is not applied to the energy</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>      <span class="comment">// deposited since both ends of the bar are summed.</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>      <span class="keywordtype">double</span> att_posend =</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>          exp(-1. * ((distance_posend - position_bar) / 1000.) / <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#aa46d2a8d6446c74e4ab2c63cb9adc2a1">attlength_</a>);</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>      <span class="keywordtype">double</span> att_negend =</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>          exp(-1. * ((distance_negend + position_bar) / 1000.) / <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#aa46d2a8d6446c74e4ab2c63cb9adc2a1">attlength_</a>);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>      <span class="comment">// set voltage as the sum of both bars</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>      voltage = (voltage_posend + voltage_negend);</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>      voltage_min = std::min(voltage_posend, voltage_negend);</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>      <span class="comment">// set amplitude as the average of both bars (reverse attenuated)</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>      amplT = (amplT_posend / att_posend + amplT_negend / att_negend) / 2;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>      <span class="comment">// set position along the bar</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>      <span class="keywordflow">if</span> ((id_posend.layer() % 2) == 1) {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        position.SetX(position_bar);</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        position.SetY(position_bar);</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>      }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>      <span class="comment">// set hit time</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>      <span class="comment">// TODO: does this need to revert shift because of propagation of light in</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>      <span class="comment">// polysterene?</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>      hitTime = fabs(TOA_posend + TOA_negend) / 2;  <span class="comment">// ns</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>      iDigi += 2;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    }       <span class="comment">// end double readout loop</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="keywordflow">else</span> {  <span class="comment">// single readout</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>      <span class="keywordtype">double</span> voltage_i;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>      <span class="keywordflow">if</span> (digi_posend.isTOT()) {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <span class="comment">// TOT - number of clock ticks that pulse was over threshold</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="comment">// this is related to the amplitude of the pulse approximately through a</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <span class="comment">// linear drain rate the amplitude of the pulse is related to the energy</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="comment">// deposited</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        <span class="comment">// convert the time over threshold into a total energy deposited in the</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        <span class="comment">// bar (time over threshold [ns] - pedestal) * gain</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        voltage_i =</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            (digi_posend.tot() - the_conditions.totPedestal(id_posend)) *</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>            the_conditions.totGain(id_posend);</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        <span class="comment">// ADC mode of readout</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        <span class="comment">// ADC - voltage measurement at a specific time of the pulse</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        amplT_posend =</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>            digi_posend.soi().adc_t() - the_conditions.adcPedestal(id_posend);</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        amplTm1_posend =</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>            digi_posend.soi().adc_tm1() - the_conditions.adcPedestal(id_posend);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        voltage_i = amplT_posend * the_conditions.adcGain(id_posend);</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>      }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>      <span class="comment">// reverse voltage attenuation</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>      <span class="comment">// for now, assume that position along the bar is the half_total_width</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>      <span class="keywordtype">double</span> distance_end =</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>          id_posend.isNegativeEnd() ? distance_negend : distance_posend;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>      <span class="keywordtype">double</span> att = exp(-1. * ((distance_end - fabs(half_total_width)) / 1000.) /</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                       <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#aa46d2a8d6446c74e4ab2c63cb9adc2a1">attlength_</a>);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> </div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>      <span class="comment">// set voltage</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>      voltage = voltage_i;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>      voltage_min = voltage_i;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>      <span class="comment">// set amplitude (reverse attenuated)</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>      amplT = amplT_posend / att;</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>      <span class="comment">// get TOA</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>      <span class="keywordtype">double</span> TOA =</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>          <a class="code hl_function" href="classhcal_1_1HcalRecProducer.html#a43de8030b6bda5092fb5f35fdfeaa601">getTOA</a>(digi_posend, the_conditions.adcPedestal(id_posend), iSOI);</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>      <span class="comment">// correct TOA</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>      TOA = <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a06caf5d5cb8b787cd1aeeb27898bd62b">correctionTOA_</a>.Eval(amplT) - TOA;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>      <span class="comment">// set hit time</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>      hitTime = TOA;  <span class="comment">// ns</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>      iDigi++;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    }  <span class="comment">// end single readout loop</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <span class="keywordtype">double</span> num_mips_equivalent = voltage / <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a18144b8643e89036ad801fdabf529900">voltage_per_mip_</a>;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="keywordtype">double</span> energy_deposited = num_mips_equivalent * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a91673261f753075b8d3d297169f04092">mip_energy_</a>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <span class="comment">// reconstructed energy in the layer (approximate)</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="comment">// TODO: need to incorporate corrections if necessary</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment"></span>    <span class="keywordtype">double</span> reconstructed_energy = energy_deposited;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <span class="keywordtype">int</span> PEs = num_mips_equivalent * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#acbf3fc64fea77471b9758ee3d3cf5f0d">pe_per_mip_</a>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="keywordtype">int</span> minPEs = (voltage_min / <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a18144b8643e89036ad801fdabf529900">voltage_per_mip_</a>) * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#acbf3fc64fea77471b9758ee3d3cf5f0d">pe_per_mip_</a>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span> </div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="comment">// copy over information to rec hit structure in new collection</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <a class="code hl_class" href="classldmx_1_1HcalHit.html">ldmx::HcalHit</a> recHit;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a2d6ec38056cae0551fc4797f41f70ca8">setID</a>(<span class="keywordtype">id</span>.raw());</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a4e27b8b75b5c31e8df4e6b91b990eefa">setXPos</a>(position.X());</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a0e87292d2c4b99a8aa8503179a427914">setYPos</a>(position.Y());</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a4c53b3749aab62c9e0878abdb698464f">setZPos</a>(position.Z());</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    recHit.<a class="code hl_function" href="classldmx_1_1HcalHit.html#afb0fb16907e79bc046832be2384e75a6">setPE</a>(PEs);</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    recHit.<a class="code hl_function" href="classldmx_1_1HcalHit.html#a9edbd22919d974344cb92a9707bebe66">setMinPE</a>(minPEs);</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a5cd5e530e62a0629b6f3209f77974fd9">setAmplitude</a>((amplT / <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a18144b8643e89036ad801fdabf529900">voltage_per_mip_</a>) * <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a91673261f753075b8d3d297169f04092">mip_energy_</a>);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a63067db3972e32ed26f2b3a5ea8e46f8">setEnergy</a>(reconstructed_energy);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a590256945dbfaa97d2528b9f260b6760">setTime</a>(hitTime);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    hcalRecHits.push_back(recHit);</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>  }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>  <span class="keywordflow">if</span> (event.<a class="code hl_function" href="classframework_1_1Event.html#a7e65967eea5ac3172852838f1c8f266a">exists</a>(<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a72a37dc07e2d626a0564aae7e584ce8f">simHitCollName_</a>, <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ab44e209e6e767fd49a0188608ee77353">simHitPassName_</a>)) {</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="comment">// hcal sim hits exist ==&gt; label which hits are real and which are pure</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="comment">// noise</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <span class="keyword">auto</span> hcalSimHits{<span class="keyword">event</span>.getCollection&lt;<a class="code hl_class" href="classldmx_1_1SimCalorimeterHit.html">ldmx::SimCalorimeterHit</a>&gt;(</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a72a37dc07e2d626a0564aae7e584ce8f">simHitCollName_</a>, <a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#ab44e209e6e767fd49a0188608ee77353">simHitPassName_</a>)};</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    std::set&lt;int&gt; real_hits;</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; sim_hit : hcalSimHits) real_hits.insert(sim_hit.getID());</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; hit : hcalRecHits)</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>      hit.setNoise(real_hits.find(hit.getID()) == real_hits.end());</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>  }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>  <span class="comment">// add collection to event bus</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  <span class="keyword">event</span>.add(<a class="code hl_variable" href="classhcal_1_1HcalRecProducer.html#a50499832faa1bcf89786ff79a0dc901a">recHitCollName_</a>, hcalRecHits);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>}</div>
<div class="ttc" id="aclassframework_1_1Event_html_a7e65967eea5ac3172852838f1c8f266a"><div class="ttname"><a href="classframework_1_1Event.html#a7e65967eea5ac3172852838f1c8f266a">framework::Event::exists</a></div><div class="ttdeci">bool exists(const std::string &amp;name, const std::string &amp;passName=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="Event_8h_source.html#l00105">Event.h:105</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalRecProducer_html_a43de8030b6bda5092fb5f35fdfeaa601"><div class="ttname"><a href="classhcal_1_1HcalRecProducer.html#a43de8030b6bda5092fb5f35fdfeaa601">hcal::HcalRecProducer::getTOA</a></div><div class="ttdeci">double getTOA(const ldmx::HgcrocDigiCollection::HgcrocDigi digi, double pedestal, unsigned int iSOI)</div><div class="ttdef"><b>Definition:</b> <a href="HcalRecProducer_8cxx_source.html#l00082">HcalRecProducer.cxx:82</a></div></div>
<div class="ttc" id="aclasshcal_1_1HcalReconConditions_html_a5177db6b660569fa13807234c222f0d3"><div class="ttname"><a href="classhcal_1_1HcalReconConditions.html#a5177db6b660569fa13807234c222f0d3">hcal::HcalReconConditions::CONDITIONS_NAME</a></div><div class="ttdeci">static const std::string CONDITIONS_NAME</div><div class="ttdef"><b>Definition:</b> <a href="HcalReconConditions_8h_source.html#l00021">HcalReconConditions.h:21</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a0e87292d2c4b99a8aa8503179a427914"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a0e87292d2c4b99a8aa8503179a427914">ldmx::CalorimeterHit::setYPos</a></div><div class="ttdeci">void setYPos(float ypos)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00123">CalorimeterHit.h:123</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a2d6ec38056cae0551fc4797f41f70ca8"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a2d6ec38056cae0551fc4797f41f70ca8">ldmx::CalorimeterHit::setID</a></div><div class="ttdeci">void setID(int id)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00057">CalorimeterHit.h:57</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a4c53b3749aab62c9e0878abdb698464f"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a4c53b3749aab62c9e0878abdb698464f">ldmx::CalorimeterHit::setZPos</a></div><div class="ttdeci">void setZPos(float zpos)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00135">CalorimeterHit.h:135</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a4e27b8b75b5c31e8df4e6b91b990eefa"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a4e27b8b75b5c31e8df4e6b91b990eefa">ldmx::CalorimeterHit::setXPos</a></div><div class="ttdeci">void setXPos(float xpos)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00111">CalorimeterHit.h:111</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a590256945dbfaa97d2528b9f260b6760"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a590256945dbfaa97d2528b9f260b6760">ldmx::CalorimeterHit::setTime</a></div><div class="ttdeci">void setTime(float time)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00099">CalorimeterHit.h:99</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a5cd5e530e62a0629b6f3209f77974fd9"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a5cd5e530e62a0629b6f3209f77974fd9">ldmx::CalorimeterHit::setAmplitude</a></div><div class="ttdeci">void setAmplitude(float amplitude)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00073">CalorimeterHit.h:73</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a63067db3972e32ed26f2b3a5ea8e46f8"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a63067db3972e32ed26f2b3a5ea8e46f8">ldmx::CalorimeterHit::setEnergy</a></div><div class="ttdeci">void setEnergy(float energy)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00087">CalorimeterHit.h:87</a></div></div>
<div class="ttc" id="aclassldmx_1_1HcalDigiID_html"><div class="ttname"><a href="classldmx_1_1HcalDigiID.html">ldmx::HcalDigiID</a></div><div class="ttdoc">Extension of HcalAbstractID providing access to HCal digi information.</div><div class="ttdef"><b>Definition:</b> <a href="HcalDigiID_8h_source.html#l00013">HcalDigiID.h:13</a></div></div>
<div class="ttc" id="aclassldmx_1_1HcalGeometry_html_a509523c5f18a53d16be9d6a79e6e590a"><div class="ttname"><a href="classldmx_1_1HcalGeometry.html#a509523c5f18a53d16be9d6a79e6e590a">ldmx::HcalGeometry::CONDITIONS_OBJECT_NAME</a></div><div class="ttdeci">static constexpr const char * CONDITIONS_OBJECT_NAME</div><div class="ttdef"><b>Definition:</b> <a href="HcalGeometry_8h_source.html#l00042">HcalGeometry.h:42</a></div></div>
<div class="ttc" id="aclassldmx_1_1HcalHit_html"><div class="ttname"><a href="classldmx_1_1HcalHit.html">ldmx::HcalHit</a></div><div class="ttdoc">Stores reconstructed hit information from the HCAL.</div><div class="ttdef"><b>Definition:</b> <a href="HcalHit_8h_source.html#l00023">HcalHit.h:23</a></div></div>
<div class="ttc" id="aclassldmx_1_1HcalHit_html_a9edbd22919d974344cb92a9707bebe66"><div class="ttname"><a href="classldmx_1_1HcalHit.html#a9edbd22919d974344cb92a9707bebe66">ldmx::HcalHit::setMinPE</a></div><div class="ttdeci">void setMinPE(float minpe)</div><div class="ttdef"><b>Definition:</b> <a href="HcalHit_8h_source.html#l00072">HcalHit.h:72</a></div></div>
<div class="ttc" id="aclassldmx_1_1HcalHit_html_afb0fb16907e79bc046832be2384e75a6"><div class="ttname"><a href="classldmx_1_1HcalHit.html#afb0fb16907e79bc046832be2384e75a6">ldmx::HcalHit::setPE</a></div><div class="ttdeci">void setPE(float pe)</div><div class="ttdef"><b>Definition:</b> <a href="HcalHit_8h_source.html#l00065">HcalHit.h:65</a></div></div>
<div class="ttc" id="aclassldmx_1_1HcalID_html"><div class="ttname"><a href="classldmx_1_1HcalID.html">ldmx::HcalID</a></div><div class="ttdoc">Implements detector ids for HCal subdetector.</div><div class="ttdef"><b>Definition:</b> <a href="HcalID_8h_source.html#l00019">HcalID.h:19</a></div></div>
<div class="ttc" id="aclassldmx_1_1HgcrocDigiCollection_html"><div class="ttname"><a href="classldmx_1_1HgcrocDigiCollection.html">ldmx::HgcrocDigiCollection</a></div><div class="ttdoc">Represents a collection of the digi hits readout by an HGCROC.</div><div class="ttdef"><b>Definition:</b> <a href="HgcrocDigiCollection_8h_source.html#l00042">HgcrocDigiCollection.h:42</a></div></div>
<div class="ttc" id="aclassldmx_1_1HgcrocDigiCollection_html_ae3580a8a632b91b0ff4265346cc74715"><div class="ttname"><a href="classldmx_1_1HgcrocDigiCollection.html#ae3580a8a632b91b0ff4265346cc74715">ldmx::HgcrocDigiCollection::getNumDigis</a></div><div class="ttdeci">unsigned int getNumDigis() const</div><div class="ttdef"><b>Definition:</b> <a href="HgcrocDigiCollection_8h_source.html#l00382">HgcrocDigiCollection.h:382</a></div></div>
<div class="ttc" id="aclassldmx_1_1SimCalorimeterHit_html"><div class="ttname"><a href="classldmx_1_1SimCalorimeterHit.html">ldmx::SimCalorimeterHit</a></div><div class="ttdoc">Stores simulated calorimeter hit information.</div><div class="ttdef"><b>Definition:</b> <a href="SimCalorimeterHit_8h_source.html#l00031">SimCalorimeterHit.h:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="HcalReconConditions_8h_source.html#l00070">hcal::HcalReconConditions::adcGain()</a>, <a class="el" href="HcalReconConditions_8h_source.html#l00056">hcal::HcalReconConditions::adcPedestal()</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00105">attlength_</a>, <a class="el" href="HcalReconConditions_8h_source.html#l00021">hcal::HcalReconConditions::CONDITIONS_NAME</a>, <a class="el" href="HcalGeometry_8h_source.html#l00042">ldmx::HcalGeometry::CONDITIONS_OBJECT_NAME</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00116">correctionAmpl_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00127">correctionTOA_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00078">digiCollName_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00081">digiPassName_</a>, <a class="el" href="Event_8h_source.html#l00105">framework::Event::exists()</a>, <a class="el" href="HgcrocDigiCollection_8h_source.html#l00382">ldmx::HgcrocDigiCollection::getNumDigis()</a>, <a class="el" href="HcalRecProducer_8cxx_source.html#l00082">getTOA()</a>, <a class="el" href="HcalDigiID_8h_source.html#l00111">ldmx::HcalDigiID::isNegativeEnd()</a>, <a class="el" href="HcalDigiID_8h_source.html#l00081">ldmx::HcalDigiID::layer()</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00133">minAmpl_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00130">minAmplFraction_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00093">mip_energy_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00096">pe_per_mip_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00090">recHitCollName_</a>, <a class="el" href="HcalDigiID_8h_source.html#l00075">ldmx::HcalDigiID::section()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00073">ldmx::CalorimeterHit::setAmplitude()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00087">ldmx::CalorimeterHit::setEnergy()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00057">ldmx::CalorimeterHit::setID()</a>, <a class="el" href="HcalHit_8h_source.html#l00072">ldmx::HcalHit::setMinPE()</a>, <a class="el" href="HcalHit_8h_source.html#l00065">ldmx::HcalHit::setPE()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00099">ldmx::CalorimeterHit::setTime()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00111">ldmx::CalorimeterHit::setXPos()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00123">ldmx::CalorimeterHit::setYPos()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00135">ldmx::CalorimeterHit::setZPos()</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00084">simHitCollName_</a>, <a class="el" href="HcalRecProducer_8h_source.html#l00087">simHitPassName_</a>, <a class="el" href="HcalDigiID_8h_source.html#l00099">ldmx::HcalDigiID::strip()</a>, <a class="el" href="HcalReconConditions_8h_source.html#l00094">hcal::HcalReconConditions::totGain()</a>, <a class="el" href="HcalReconConditions_8h_source.html#l00080">hcal::HcalReconConditions::totPedestal()</a>, and <a class="el" href="HcalRecProducer_8h_source.html#l00102">voltage_per_mip_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa46d2a8d6446c74e4ab2c63cb9adc2a1" name="aa46d2a8d6446c74e4ab2c63cb9adc2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46d2a8d6446c74e4ab2c63cb9adc2a1">&#9670;&nbsp;</a></span>attlength_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::attlength_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Strip attenuation length [m]. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00105">105</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a15e69fd1e2928a129a3c3dd9f5fca63e" name="a15e69fd1e2928a129a3c3dd9f5fca63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15e69fd1e2928a129a3c3dd9f5fca63e">&#9670;&nbsp;</a></span>clock_cycle_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::clock_cycle_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Length of clock cycle [ns]. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00099">99</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00082">getTOA()</a>.</p>

</div>
</div>
<a id="a3fe91fe2807a3ef3c9b8bdf5192303ba" name="a3fe91fe2807a3ef3c9b8bdf5192303ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe91fe2807a3ef3c9b8bdf5192303ba">&#9670;&nbsp;</a></span>correctionAmpl_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TGraph hcal::HcalRecProducer::correctionAmpl_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Correction to the pulse's measured amplitude at the peak. The correction is calculated by comparing the amplitude at the sample time (T) over its correct value (1.0) with the ratio between sample T and sample T+25ns. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00116">116</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a06caf5d5cb8b787cd1aeeb27898bd62b" name="a06caf5d5cb8b787cd1aeeb27898bd62b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06caf5d5cb8b787cd1aeeb27898bd62b">&#9670;&nbsp;</a></span>correctionTOA_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TGraph hcal::HcalRecProducer::correctionTOA_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Correction to the measured TOA relative to the peak. This corrects for the time-walk effect where the time that the front edge of the pulse crosses the TOA threshold walks higher in time as the pulse's amplitude gets smaller. The correction is calculated by comparing the TOA measured relative to the peak (i.e. the time at which the pulse crosses the TOA threshold) with the amplitude at the sample time (T) over its correct value (1.0). </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00127">127</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="adb7cd2efb2f205499f494b614db3b73e" name="adb7cd2efb2f205499f494b614db3b73e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb7cd2efb2f205499f494b614db3b73e">&#9670;&nbsp;</a></span>digiCollName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string hcal::HcalRecProducer::digiCollName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Digi Collection Name to use as input. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00078">78</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a6a90caf17300e00616f0e426c6618396" name="a6a90caf17300e00616f0e426c6618396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a90caf17300e00616f0e426c6618396">&#9670;&nbsp;</a></span>digiPassName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string hcal::HcalRecProducer::digiPassName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Digi Pass Name to use as input. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00081">81</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a8aea7094d6ceda7753010e3c14379344" name="a8aea7094d6ceda7753010e3c14379344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aea7094d6ceda7753010e3c14379344">&#9670;&nbsp;</a></span>minAmpl_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::minAmpl_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum amplitude to apply TOA correction. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00133">133</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a10bcc47cc0ea75e43d0f1649b6d33c09" name="a10bcc47cc0ea75e43d0f1649b6d33c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10bcc47cc0ea75e43d0f1649b6d33c09">&#9670;&nbsp;</a></span>minAmplFraction_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::minAmplFraction_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum amplitude fraction to apply amplitude correction. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00130">130</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a91673261f753075b8d3d297169f04092" name="a91673261f753075b8d3d297169f04092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91673261f753075b8d3d297169f04092">&#9670;&nbsp;</a></span>mip_energy_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::mip_energy_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Energy [MeV] deposited by a MIP. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00093">93</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a8a00979827a72d7ef9e5d4c1b453247c" name="a8a00979827a72d7ef9e5d4c1b453247c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a00979827a72d7ef9e5d4c1b453247c">&#9670;&nbsp;</a></span>nADCs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int hcal::HcalRecProducer::nADCs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Depth of ADC buffer. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00136">136</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>.</p>

</div>
</div>
<a id="acbf3fc64fea77471b9758ee3d3cf5f0d" name="acbf3fc64fea77471b9758ee3d3cf5f0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf3fc64fea77471b9758ee3d3cf5f0d">&#9670;&nbsp;</a></span>pe_per_mip_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::pe_per_mip_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>PEs per MIP. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00096">96</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="ac74278be50f846e983694be2e6a39325" name="ac74278be50f846e983694be2e6a39325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac74278be50f846e983694be2e6a39325">&#9670;&nbsp;</a></span>pulseFunc_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TF1 hcal::HcalRecProducer::pulseFunc_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pulse function. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00108">108</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>.</p>

</div>
</div>
<a id="acde22da329148fc119f0d05ec187af94" name="acde22da329148fc119f0d05ec187af94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde22da329148fc119f0d05ec187af94">&#9670;&nbsp;</a></span>rateDnSlope_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::rateDnSlope_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rate of Down Slope in Pulse Shape [1/ns]. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00145">145</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>.</p>

</div>
</div>
<a id="a6bcd6c22dc48cfdc1bd42067eab248f1" name="a6bcd6c22dc48cfdc1bd42067eab248f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bcd6c22dc48cfdc1bd42067eab248f1">&#9670;&nbsp;</a></span>rateUpSlope_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::rateUpSlope_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rate of Up Slope in Pulse Shape [1/ns]. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00139">139</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>.</p>

</div>
</div>
<a id="a50499832faa1bcf89786ff79a0dc901a" name="a50499832faa1bcf89786ff79a0dc901a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50499832faa1bcf89786ff79a0dc901a">&#9670;&nbsp;</a></span>recHitCollName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string hcal::HcalRecProducer::recHitCollName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>output hit collection name </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00090">90</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a72a37dc07e2d626a0564aae7e584ce8f" name="a72a37dc07e2d626a0564aae7e584ce8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a37dc07e2d626a0564aae7e584ce8f">&#9670;&nbsp;</a></span>simHitCollName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string hcal::HcalRecProducer::simHitCollName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>simhit collection name </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00084">84</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="ab44e209e6e767fd49a0188608ee77353" name="ab44e209e6e767fd49a0188608ee77353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab44e209e6e767fd49a0188608ee77353">&#9670;&nbsp;</a></span>simHitPassName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string hcal::HcalRecProducer::simHitPassName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>simhit pass name </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00087">87</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<a id="a6abd34d57b618b055bb75de6a4424dbb" name="a6abd34d57b618b055bb75de6a4424dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6abd34d57b618b055bb75de6a4424dbb">&#9670;&nbsp;</a></span>timeDnSlope_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::timeDnSlope_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time of Down Slope relative to Pulse Shape Fit [ns]. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00148">148</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>.</p>

</div>
</div>
<a id="a8b9cb8e143fe0290812012c72e768fd5" name="a8b9cb8e143fe0290812012c72e768fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b9cb8e143fe0290812012c72e768fd5">&#9670;&nbsp;</a></span>timePeak_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::timePeak_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time of Peak relative to pulse shape fit [ns]. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00151">151</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>.</p>

</div>
</div>
<a id="a4130a14cfb0eb84e539a27a0454081f9" name="a4130a14cfb0eb84e539a27a0454081f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4130a14cfb0eb84e539a27a0454081f9">&#9670;&nbsp;</a></span>timeUpSlope_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::timeUpSlope_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time of Up Slope relative to Pulse Shape Fit [ns]. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00142">142</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>.</p>

</div>
</div>
<a id="a18144b8643e89036ad801fdabf529900" name="a18144b8643e89036ad801fdabf529900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18144b8643e89036ad801fdabf529900">&#9670;&nbsp;</a></span>voltage_per_mip_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double hcal::HcalRecProducer::voltage_per_mip_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Voltage by average MIP. </p>

<p class="definition">Definition at line <a class="el" href="HcalRecProducer_8h_source.html#l00102">102</a> of file <a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="HcalRecProducer_8cxx_source.html#l00018">configure()</a>, and <a class="el" href="HcalRecProducer_8cxx_source.html#l00110">produce()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Hcal/include/Hcal/<a class="el" href="HcalRecProducer_8h_source.html">HcalRecProducer.h</a></li>
<li>Hcal/src/Hcal/<a class="el" href="HcalRecProducer_8cxx_source.html">HcalRecProducer.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>