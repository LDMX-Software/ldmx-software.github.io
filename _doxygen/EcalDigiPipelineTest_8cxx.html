<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.20"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>LDMX Software: Ecal/test/EcalDigiPipelineTest.cxx File Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">LDMX Software
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f725b3c61c8cd94501dd7e29c36c23f9.html">Ecal</a></li><li class="navelem"><a class="el" href="dir_8418acc79676497a225548ef1953df22.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">EcalDigiPipelineTest.cxx File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Test to make sure input sim energies are close to output rec energies.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;catch.hpp&quot;</code><br />
<code>#include &quot;<a class="el" href="EventProcessor_8h_source.html">Framework/EventProcessor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Process_8h_source.html">Framework/Process.h</a>&quot;</code><br />
<code>#include &quot;Framework/ConfigurePython.h&quot;</code><br />
<code>#include &quot;<a class="el" href="EventDef_8h_source.html">Event/EventDef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="EcalID_8h_source.html">DetDescr/EcalID.h</a>&quot;</code><br />
<code>#include &lt;fstream&gt;</code><br />
</div>
<p><a href="EcalDigiPipelineTest_8cxx_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1test_1_1ecal_1_1EcalFakeSimHits.html">ldmx::test::ecal::EcalFakeSimHits</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1test_1_1ecal_1_1EcalCheckEnergyReconstruction.html">ldmx::test::ecal::EcalCheckEnergyReconstruction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceldmx"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceldmx.html">ldmx</a></td></tr>
<tr class="memdesc:namespaceldmx"><td class="mdescLeft">&#160;</td><td class="mdescRight">All classes in the ldmx-sw project use this namespace. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeeaf8436bf7315a2544e56c28234d248"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#aeeaf8436bf7315a2544e56c28234d248">TEST_CASE</a> (&quot;Ecal Digi Pipeline test&quot;, &quot;[Ecal][functionality]&quot;)</td></tr>
<tr class="separator:aeeaf8436bf7315a2544e56c28234d248"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a48c32b1ae7ff913478946f19787ceaf1"><td class="memItemLeft" align="right" valign="top">static const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#a48c32b1ae7ff913478946f19787ceaf1">ldmx::test::ecal::MIP_SI_ENERGY</a> =0.130</td></tr>
<tr class="separator:a48c32b1ae7ff913478946f19787ceaf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be6f82e614c7dddeed79fc8c0c42084"><td class="memItemLeft" align="right" valign="top">static const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#a8be6f82e614c7dddeed79fc8c0c42084">ldmx::test::ecal::MeV_per_fC</a> =MIP_SI_ENERGY/(37*0.162)</td></tr>
<tr class="separator:a8be6f82e614c7dddeed79fc8c0c42084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369340ef774b1277c2b29f67562fca21"><td class="memItemLeft" align="right" valign="top">static const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#a369340ef774b1277c2b29f67562fca21">ldmx::test::ecal::MAX_ENERGY_PERCENT_ERROR_DAQ_TOT_MODE</a> =2.</td></tr>
<tr class="separator:a369340ef774b1277c2b29f67562fca21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89e8181d6d1de65ac3ba33a6fc69a1e"><td class="memItemLeft" align="right" valign="top">static const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#ad89e8181d6d1de65ac3ba33a6fc69a1e">ldmx::test::ecal::MAX_ENERGY_PERCENT_ERROR_TP_TOT_MODE</a> =10.</td></tr>
<tr class="separator:ad89e8181d6d1de65ac3ba33a6fc69a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae4f1e3af32e9c9341b6a4eabcd43db"><td class="memItemLeft" align="right" valign="top">static const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#adae4f1e3af32e9c9341b6a4eabcd43db">ldmx::test::ecal::MAX_ENERGY_ERROR_DAQ_ADC_MODE</a> =MIP_SI_ENERGY/2</td></tr>
<tr class="separator:adae4f1e3af32e9c9341b6a4eabcd43db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2fc63a33ccaa61f13dc0d6b3e28532"><td class="memItemLeft" align="right" valign="top">static const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#a8d2fc63a33ccaa61f13dc0d6b3e28532">ldmx::test::ecal::MAX_ENERGY_ERROR_TP_ADC_MODE</a> =2*MIP_SI_ENERGY</td></tr>
<tr class="separator:a8d2fc63a33ccaa61f13dc0d6b3e28532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac791724bc69ca922e4ef6d621519676b"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#ac791724bc69ca922e4ef6d621519676b">ldmx::test::ecal::NUM_TEST_SIM_HITS</a> =2000</td></tr>
<tr class="separator:ac791724bc69ca922e4ef6d621519676b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8950bdb5addf73530ca381b82808f6"><td class="memItemLeft" align="right" valign="top">static const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EcalDigiPipelineTest_8cxx.html#a1a8950bdb5addf73530ca381b82808f6">ldmx::test::ecal::NTUPLIZE_ENERGIES</a> =true</td></tr>
<tr class="separator:a1a8950bdb5addf73530ca381b82808f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Test to make sure input sim energies are close to output rec energies. </p>
<dl class="section author"><dt>Author</dt><dd>Tom Eichlersmith, University of Minnesota </dd></dl>

<p class="definition">Definition in file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aeeaf8436bf7315a2544e56c28234d248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeaf8436bf7315a2544e56c28234d248">&#9670;&nbsp;</a></span>TEST_CASE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">&quot;Ecal Digi Pipeline test&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;&quot;&#160;</td>
          <td class="paramname">[Ecal][functionality]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test for the Ecal Digi Pipeline</p>
<p>Does not check for realism. Simply makes sure sim energies end up being "close" to output rec energies.</p>
<p>Checks</p><ul>
<li>Keep reconstructed energy depositied close to simulated value</li>
<li>Keep estimated energy at TP level close to simulated value</li>
</ul>
<p>@TODO still need to expand to multiple contribs in a single sim hit @TODO check layer weights are being calculated correctly somehow </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00274">274</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                                                 {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">const</span> std::string config_file{<span class="stringliteral">&quot;/tmp/ecal_digi_pipeline_test.py&quot;</span>};</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    std::ofstream cf( config_file );</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;from LDMX.Framework import ldmxcfg&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;p = ldmxcfg.Process( &#39;testEcalDigis&#39; )&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;p.maxEvents = &quot;</span> &lt;&lt; <a class="code" href="EcalDigiPipelineTest_8cxx.html#ac791724bc69ca922e4ef6d621519676b">ldmx::test::ecal::NUM_TEST_SIM_HITS</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;from LDMX.Ecal import ecal_hardcoded_conditions&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;from LDMX.Ecal import digi, ecal_trig_digi&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;p.outputFiles = [ &#39;/tmp/ecal_digi_pipeline_test.root&#39; ]&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;p.histogramFile = &#39;&quot;</span> &lt;&lt; (<a class="code" href="EcalDigiPipelineTest_8cxx.html#a1a8950bdb5addf73530ca381b82808f6">ldmx::test::ecal::NTUPLIZE_ENERGIES</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;/tmp/&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;ecal_digi_pipeline_test.root&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;from LDMX.Ecal import EcalGeometry&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;geom = EcalGeometry.EcalGeometryProvider.getInstance()&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;ecalDigis = digi.EcalDigiProducer()&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;ecalDigis.hgcroc.noise = False&quot;</span> &lt;&lt; std::endl; <span class="comment">//turn off noise for testing purposes</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;p.sequence = [&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;    ldmxcfg.Producer(&#39;fakeSimHits&#39;,&#39;ldmx::test::ecal::EcalFakeSimHits&#39;,&#39;Ecal&#39;),&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;    ecalDigis,&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;    ecal_trig_digi.EcalTrigPrimDigiProducer(),&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;    digi.EcalRecProducer(),&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;    ldmxcfg.Analyzer(&#39;checkEcalHits&#39;,&#39;ldmx::test::ecal::EcalCheckEnergyReconstruction&#39;,&#39;Ecal&#39;),&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    cf &lt;&lt; <span class="stringliteral">&quot;    ]&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">/* debug printing during run</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">    cf &lt;&lt; &quot;p.termLogLevel = 1&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">    cf &lt;&lt; &quot;p.logFrequency = 1&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">/* debug pause before running</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">    cf &lt;&lt; &quot;p.pause()&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    cf.close();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">char</span> **args;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="namespaceldmx.html#a9028f1d46e96ae071498fc94f663d56a">ldmx::ProcessHandle</a> p;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classldmx_1_1ConfigurePython.html">ldmx::ConfigurePython</a> cfg( config_file , args , 0 );</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    REQUIRE_NOTHROW(p = cfg.makeProcess());</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    p-&gt;run();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ConfigurePython_8cxx_source.html#l00263">ldmx::ConfigurePython::makeProcess()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adae4f1e3af32e9c9341b6a4eabcd43db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae4f1e3af32e9c9341b6a4eabcd43db">&#9670;&nbsp;</a></span>MAX_ENERGY_ERROR_DAQ_ADC_MODE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double ldmx::test::ecal::MAX_ENERGY_ERROR_DAQ_ADC_MODE =MIP_SI_ENERGY/2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum absolute error that a single hit can be reconstructed with before failing the test if below the adc threshold</p>
<p>Comparing energy deposited in Silicon that was "simulated" (input into digitizer) and the reconstructed energy deposited output by reconstructor. </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00066">66</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00202">ldmx::test::ecal::EcalCheckEnergyReconstruction::analyze()</a>.</p>

</div>
</div>
<a id="a8d2fc63a33ccaa61f13dc0d6b3e28532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d2fc63a33ccaa61f13dc0d6b3e28532">&#9670;&nbsp;</a></span>MAX_ENERGY_ERROR_TP_ADC_MODE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double ldmx::test::ecal::MAX_ENERGY_ERROR_TP_ADC_MODE =2*MIP_SI_ENERGY</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum absolute error that a single hit can be estimated at the trigger primitive level if below the adc threshold</p>
<p>Comparing energy deposited in Silicon that was "simulated" (input into digitizer) and the energy estimated from trigger primitives. </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00077">77</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00202">ldmx::test::ecal::EcalCheckEnergyReconstruction::analyze()</a>.</p>

</div>
</div>
<a id="a369340ef774b1277c2b29f67562fca21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369340ef774b1277c2b29f67562fca21">&#9670;&nbsp;</a></span>MAX_ENERGY_PERCENT_ERROR_DAQ_TOT_MODE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double ldmx::test::ecal::MAX_ENERGY_PERCENT_ERROR_DAQ_TOT_MODE =2.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum percent error that a single hit can be reconstructed with before failing the test if above the tot threshold.</p>
<p>Comparing energy deposited in Silicon that was "simulated" (input into digitizer) and the reconstructed energy deposited output by reconstructor. </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00044">44</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00202">ldmx::test::ecal::EcalCheckEnergyReconstruction::analyze()</a>.</p>

</div>
</div>
<a id="ad89e8181d6d1de65ac3ba33a6fc69a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad89e8181d6d1de65ac3ba33a6fc69a1e">&#9670;&nbsp;</a></span>MAX_ENERGY_PERCENT_ERROR_TP_TOT_MODE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double ldmx::test::ecal::MAX_ENERGY_PERCENT_ERROR_TP_TOT_MODE =10.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum percent error that a single hit can be estimated at the trigger primitive level when reading out in TOT mode.</p>
<p>Comparing energy deposited in Silicon that was "simulated" (input into digitizer) and the energy estimated from trigger primitives. </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00055">55</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00202">ldmx::test::ecal::EcalCheckEnergyReconstruction::analyze()</a>.</p>

</div>
</div>
<a id="a8be6f82e614c7dddeed79fc8c0c42084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8be6f82e614c7dddeed79fc8c0c42084">&#9670;&nbsp;</a></span>MeV_per_fC</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double ldmx::test::ecal::MeV_per_fC =MIP_SI_ENERGY/(37*0.162)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Conversion between deposited charge and deposited energy [MeV/fC]</p>
<p>charge [fC] * (1000 electrons / 0.162 fC) * (1 MIP / 37 000 electrons) * (0.130 MeV / 1 MIP) </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00033">33</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00202">ldmx::test::ecal::EcalCheckEnergyReconstruction::analyze()</a>.</p>

</div>
</div>
<a id="a48c32b1ae7ff913478946f19787ceaf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48c32b1ae7ff913478946f19787ceaf1">&#9670;&nbsp;</a></span>MIP_SI_ENERGY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double ldmx::test::ecal::MIP_SI_ENERGY =0.130</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Energy deposited in our silicon sensors by one MIP on average. [MeV] </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00025">25</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>

</div>
</div>
<a id="a1a8950bdb5addf73530ca381b82808f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a8950bdb5addf73530ca381b82808f6">&#9670;&nbsp;</a></span>NTUPLIZE_ENERGIES</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool ldmx::test::ecal::NTUPLIZE_ENERGIES =true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Should the sim/rec/tp energies be ntuplized for your viewing? </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00095">95</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>

</div>
</div>
<a id="ac791724bc69ca922e4ef6d621519676b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac791724bc69ca922e4ef6d621519676b">&#9670;&nbsp;</a></span>NUM_TEST_SIM_HITS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int ldmx::test::ecal::NUM_TEST_SIM_HITS =2000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of sim hits to create.</p>
<p>In this test, we create one sim hit per event, run it through the digi pipeline, and then check it. This parameter tells us how many sim hits to create and then (combined with the parameters of EcalFakeSimHits), we know how "fine-grained" the test is. </p>

<p class="definition">Definition at line <a class="el" href="EcalDigiPipelineTest_8cxx_source.html#l00089">89</a> of file <a class="el" href="EcalDigiPipelineTest_8cxx_source.html">EcalDigiPipelineTest.cxx</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespaceldmx_html_a9028f1d46e96ae071498fc94f663d56a"><div class="ttname"><a href="namespaceldmx.html#a9028f1d46e96ae071498fc94f663d56a">ldmx::ProcessHandle</a></div><div class="ttdeci">std::unique_ptr&lt; Process &gt; ProcessHandle</div><div class="ttdef"><b>Definition:</b> <a href="Process_8h_source.html#l00211">Process.h:211</a></div></div>
<div class="ttc" id="aEcalDigiPipelineTest_8cxx_html_a1a8950bdb5addf73530ca381b82808f6"><div class="ttname"><a href="EcalDigiPipelineTest_8cxx.html#a1a8950bdb5addf73530ca381b82808f6">ldmx::test::ecal::NTUPLIZE_ENERGIES</a></div><div class="ttdeci">static const bool NTUPLIZE_ENERGIES</div><div class="ttdef"><b>Definition:</b> <a href="EcalDigiPipelineTest_8cxx_source.html#l00095">EcalDigiPipelineTest.cxx:95</a></div></div>
<div class="ttc" id="aEcalDigiPipelineTest_8cxx_html_ac791724bc69ca922e4ef6d621519676b"><div class="ttname"><a href="EcalDigiPipelineTest_8cxx.html#ac791724bc69ca922e4ef6d621519676b">ldmx::test::ecal::NUM_TEST_SIM_HITS</a></div><div class="ttdeci">static const int NUM_TEST_SIM_HITS</div><div class="ttdef"><b>Definition:</b> <a href="EcalDigiPipelineTest_8cxx_source.html#l00089">EcalDigiPipelineTest.cxx:89</a></div></div>
<div class="ttc" id="aclassldmx_1_1ConfigurePython_html"><div class="ttname"><a href="classldmx_1_1ConfigurePython.html">ldmx::ConfigurePython</a></div><div class="ttdoc">Utility class which reads/executes a python script and creates a Process object based on the input.</div><div class="ttdef"><b>Definition:</b> <a href="ConfigurePython_8h_source.html#l00019">ConfigurePython.h:19</a></div></div>
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>