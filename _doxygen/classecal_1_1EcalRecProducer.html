<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.9.2"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>LDMX Software: ecal::EcalRecProducer Class Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">LDMX Software
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ecal</b></li><li class="navelem"><a class="el" href="classecal_1_1EcalRecProducer.html">EcalRecProducer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classecal_1_1EcalRecProducer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ecal::EcalRecProducer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Performs basic ECal reconstruction.  
 <a href="classecal_1_1EcalRecProducer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9c151ea725b1ab4dc0ece3987cffee93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a9c151ea725b1ab4dc0ece3987cffee93">EcalRecProducer</a> (const std::string &amp;name, <a class="el" href="classframework_1_1Process.html">framework::Process</a> &amp;process)</td></tr>
<tr class="separator:a9c151ea725b1ab4dc0ece3987cffee93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579c3a3b78649fea86f1f1af5ba83263"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a579c3a3b78649fea86f1f1af5ba83263">~EcalRecProducer</a> ()</td></tr>
<tr class="separator:a579c3a3b78649fea86f1f1af5ba83263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac87588e4ec44d3592d7e8da94714b747"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#ac87588e4ec44d3592d7e8da94714b747">configure</a> (<a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;)</td></tr>
<tr class="separator:ac87588e4ec44d3592d7e8da94714b747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9df89c47dc53072d3900eca621fc630e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a9df89c47dc53072d3900eca621fc630e">produce</a> (<a class="el" href="classframework_1_1Event.html">framework::Event</a> &amp;event)</td></tr>
<tr class="separator:a9df89c47dc53072d3900eca621fc630e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classframework_1_1Producer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classframework_1_1Producer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classframework_1_1Producer.html">framework::Producer</a></td></tr>
<tr class="memitem:a27ea7492352028e450f24f4750c62e1b inherit pub_methods_classframework_1_1Producer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1Producer.html#a27ea7492352028e450f24f4750c62e1b">Producer</a> (const std::string &amp;name, <a class="el" href="classframework_1_1Process.html">Process</a> &amp;process)</td></tr>
<tr class="separator:a27ea7492352028e450f24f4750c62e1b inherit pub_methods_classframework_1_1Producer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b68d090cd4e50c3c572825bc57bebff inherit pub_methods_classframework_1_1Producer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1Producer.html#a8b68d090cd4e50c3c572825bc57bebff">beforeNewRun</a> (<a class="el" href="classldmx_1_1RunHeader.html">ldmx::RunHeader</a> &amp;header)</td></tr>
<tr class="separator:a8b68d090cd4e50c3c572825bc57bebff inherit pub_methods_classframework_1_1Producer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classframework_1_1EventProcessor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classframework_1_1EventProcessor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classframework_1_1EventProcessor.html">framework::EventProcessor</a></td></tr>
<tr class="memitem:a7b079c9d4c0ac12bd9d1342073a6ae19 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a7b079c9d4c0ac12bd9d1342073a6ae19">EventProcessor</a> (const std::string &amp;name, <a class="el" href="classframework_1_1Process.html">Process</a> &amp;process)</td></tr>
<tr class="separator:a7b079c9d4c0ac12bd9d1342073a6ae19 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9cc0358f4d501e403263b19ddc613c inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#aaa9cc0358f4d501e403263b19ddc613c">~EventProcessor</a> ()</td></tr>
<tr class="separator:aaa9cc0358f4d501e403263b19ddc613c inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e19454e18fd62bc2081d40b3f41c62 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a93e19454e18fd62bc2081d40b3f41c62">onNewRun</a> (const <a class="el" href="classldmx_1_1RunHeader.html">ldmx::RunHeader</a> &amp;runHeader)</td></tr>
<tr class="separator:a93e19454e18fd62bc2081d40b3f41c62 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab717fa73bbfb14424eb856e87b760e2c inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ab717fa73bbfb14424eb856e87b760e2c">onFileOpen</a> (<a class="el" href="classframework_1_1EventFile.html">EventFile</a> &amp;eventFile)</td></tr>
<tr class="separator:ab717fa73bbfb14424eb856e87b760e2c inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6692c259d89b5ad39ceb2a302cd7e0e5 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a6692c259d89b5ad39ceb2a302cd7e0e5">onFileClose</a> (<a class="el" href="classframework_1_1EventFile.html">EventFile</a> &amp;eventFile)</td></tr>
<tr class="separator:a6692c259d89b5ad39ceb2a302cd7e0e5 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab54bb3abaafcb4f4b4b42d0a2ff616a9 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ab54bb3abaafcb4f4b4b42d0a2ff616a9">onProcessStart</a> ()</td></tr>
<tr class="separator:ab54bb3abaafcb4f4b4b42d0a2ff616a9 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527ebdf1fe665011964d9ce42a5521ad inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a527ebdf1fe665011964d9ce42a5521ad">onProcessEnd</a> ()</td></tr>
<tr class="separator:a527ebdf1fe665011964d9ce42a5521ad inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfbb5c6279eb9095d56bbb31653aa73 inherit pub_methods_classframework_1_1EventProcessor"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a7cfbb5c6279eb9095d56bbb31653aa73 inherit pub_methods_classframework_1_1EventProcessor"><td class="memTemplItemLeft" align="right" valign="top">const T &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a7cfbb5c6279eb9095d56bbb31653aa73">getCondition</a> (const std::string &amp;condition_name)</td></tr>
<tr class="separator:a7cfbb5c6279eb9095d56bbb31653aa73 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae243bb073918259e747a8f8f144b0053 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">TDirectory *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ae243bb073918259e747a8f8f144b0053">getHistoDirectory</a> ()</td></tr>
<tr class="separator:ae243bb073918259e747a8f8f144b0053 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f93ec80a4207c3847d629482e81989d inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a2f93ec80a4207c3847d629482e81989d">setStorageHint</a> (framework::StorageControlHint hint)</td></tr>
<tr class="separator:a2f93ec80a4207c3847d629482e81989d inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc5699b669ced944eac4eeea2ade915 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#aacc5699b669ced944eac4eeea2ade915">setStorageHint</a> (framework::StorageControlHint hint, const std::string &amp;purposeString)</td></tr>
<tr class="separator:aacc5699b669ced944eac4eeea2ade915 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af212ff21b3ebec223facbfb02502ecdf inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#af212ff21b3ebec223facbfb02502ecdf">getLogFrequency</a> () const</td></tr>
<tr class="separator:af212ff21b3ebec223facbfb02502ecdf inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde4ce813307a7d232eb5f4eda859b42 inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#adde4ce813307a7d232eb5f4eda859b42">getRunNumber</a> () const</td></tr>
<tr class="separator:adde4ce813307a7d232eb5f4eda859b42 inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9467d0d35043af7ed66a6b46cbca85ca inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a9467d0d35043af7ed66a6b46cbca85ca">getName</a> () const</td></tr>
<tr class="separator:a9467d0d35043af7ed66a6b46cbca85ca inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed5966370da67ee0c89f7d6f9c8436d inherit pub_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a5ed5966370da67ee0c89f7d6f9c8436d">createHistograms</a> (const std::vector&lt; <a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &gt; &amp;histos)</td></tr>
<tr class="separator:a5ed5966370da67ee0c89f7d6f9c8436d inherit pub_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6ac1592446be63e4374b03e48ccc0312"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a6ac1592446be63e4374b03e48ccc0312">digiCollName_</a></td></tr>
<tr class="separator:a6ac1592446be63e4374b03e48ccc0312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012213ad552684e03d40feb2fcef24e6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a012213ad552684e03d40feb2fcef24e6">digiPassName_</a></td></tr>
<tr class="separator:a012213ad552684e03d40feb2fcef24e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae24493a33c2915e61898fd2f1f2560b2"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#ae24493a33c2915e61898fd2f1f2560b2">simHitCollName_</a></td></tr>
<tr class="memdesc:ae24493a33c2915e61898fd2f1f2560b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">simhit collection name  <a href="classecal_1_1EcalRecProducer.html#ae24493a33c2915e61898fd2f1f2560b2">More...</a><br /></td></tr>
<tr class="separator:ae24493a33c2915e61898fd2f1f2560b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba0aa95928fa7fadb7a2d46e9fd9e51"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a9ba0aa95928fa7fadb7a2d46e9fd9e51">simHitPassName_</a></td></tr>
<tr class="memdesc:a9ba0aa95928fa7fadb7a2d46e9fd9e51"><td class="mdescLeft">&#160;</td><td class="mdescRight">simhit pass name  <a href="classecal_1_1EcalRecProducer.html#a9ba0aa95928fa7fadb7a2d46e9fd9e51">More...</a><br /></td></tr>
<tr class="separator:a9ba0aa95928fa7fadb7a2d46e9fd9e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7837ba4e2182a29e20b6e5cb64d27c1b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a7837ba4e2182a29e20b6e5cb64d27c1b">recHitCollName_</a></td></tr>
<tr class="memdesc:a7837ba4e2182a29e20b6e5cb64d27c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">output hit collection name  <a href="classecal_1_1EcalRecProducer.html#a7837ba4e2182a29e20b6e5cb64d27c1b">More...</a><br /></td></tr>
<tr class="separator:a7837ba4e2182a29e20b6e5cb64d27c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29861cebdc0f75197fb2a20797c044e8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a29861cebdc0f75197fb2a20797c044e8">mip_si_energy_</a></td></tr>
<tr class="memdesc:a29861cebdc0f75197fb2a20797c044e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Energy [MeV] deposited by a MIP in Si 0.5mm thick.  <a href="classecal_1_1EcalRecProducer.html#a29861cebdc0f75197fb2a20797c044e8">More...</a><br /></td></tr>
<tr class="separator:a29861cebdc0f75197fb2a20797c044e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b9506a1e8133357dc96ec598b0dbc8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#ac8b9506a1e8133357dc96ec598b0dbc8">clock_cycle_</a></td></tr>
<tr class="memdesc:ac8b9506a1e8133357dc96ec598b0dbc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of clock cycle [ns].  <a href="classecal_1_1EcalRecProducer.html#ac8b9506a1e8133357dc96ec598b0dbc8">More...</a><br /></td></tr>
<tr class="separator:ac8b9506a1e8133357dc96ec598b0dbc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a779b375acce587530f06f5f8bdf9d41c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a779b375acce587530f06f5f8bdf9d41c">charge_per_mip_</a></td></tr>
<tr class="memdesc:a779b375acce587530f06f5f8bdf9d41c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of electrons generated by average MIP in Si 0.5mm thick.  <a href="classecal_1_1EcalRecProducer.html#a779b375acce587530f06f5f8bdf9d41c">More...</a><br /></td></tr>
<tr class="separator:a779b375acce587530f06f5f8bdf9d41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16bc5fea1be38ea40e56bade454b3f4f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#a16bc5fea1be38ea40e56bade454b3f4f">layerWeights_</a></td></tr>
<tr class="separator:a16bc5fea1be38ea40e56bade454b3f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0cf439cba6ce7bd4983aadd950c88b4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classecal_1_1EcalRecProducer.html#af0cf439cba6ce7bd4983aadd950c88b4">secondOrderEnergyCorrection_</a></td></tr>
<tr class="separator:af0cf439cba6ce7bd4983aadd950c88b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classframework_1_1EventProcessor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classframework_1_1EventProcessor')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classframework_1_1EventProcessor.html">framework::EventProcessor</a></td></tr>
<tr class="memitem:a055eb62b2fdde542be4225dfe3a7f9c9 inherit pub_static_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a055eb62b2fdde542be4225dfe3a7f9c9">declare</a> (const std::string &amp;classname, int classtype, <a class="el" href="namespaceframework.html#a3cc065ab8608a2973b4c60767177d483">EventProcessorMaker</a> *)</td></tr>
<tr class="separator:a055eb62b2fdde542be4225dfe3a7f9c9 inherit pub_static_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classframework_1_1Producer"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classframework_1_1Producer')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classframework_1_1Producer.html">framework::Producer</a></td></tr>
<tr class="memitem:a6433d7808e67a79fc83d4c6f7e57224a inherit pub_static_attribs_classframework_1_1Producer"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1Producer.html#a6433d7808e67a79fc83d4c6f7e57224a">CLASSTYPE</a> {1}</td></tr>
<tr class="separator:a6433d7808e67a79fc83d4c6f7e57224a inherit pub_static_attribs_classframework_1_1Producer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classframework_1_1EventProcessor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classframework_1_1EventProcessor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classframework_1_1EventProcessor.html">framework::EventProcessor</a></td></tr>
<tr class="memitem:a8d42387da8fbb2d1f01f5ecebb64dd7d inherit pro_methods_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a8d42387da8fbb2d1f01f5ecebb64dd7d">abortEvent</a> ()</td></tr>
<tr class="separator:a8d42387da8fbb2d1f01f5ecebb64dd7d inherit pro_methods_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classframework_1_1EventProcessor"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classframework_1_1EventProcessor')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classframework_1_1EventProcessor.html">framework::EventProcessor</a></td></tr>
<tr class="memitem:ae8a2bfe0849be1531e195438c1eaba4c inherit pro_attribs_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classframework_1_1HistogramHelper.html">HistogramHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ae8a2bfe0849be1531e195438c1eaba4c">histograms_</a></td></tr>
<tr class="memdesc:ae8a2bfe0849be1531e195438c1eaba4c inherit pro_attribs_classframework_1_1EventProcessor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface class for making and filling histograms.  <a href="classframework_1_1EventProcessor.html#ae8a2bfe0849be1531e195438c1eaba4c">More...</a><br /></td></tr>
<tr class="separator:ae8a2bfe0849be1531e195438c1eaba4c inherit pro_attribs_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410e35c73c9b196961e5c35127321814 inherit pro_attribs_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classframework_1_1NtupleManager.html">NtupleManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#a410e35c73c9b196961e5c35127321814">ntuple_</a> {<a class="el" href="classframework_1_1NtupleManager.html#a95b2bb3823b5a35568c5facb85d441d1">NtupleManager::getInstance</a>()}</td></tr>
<tr class="memdesc:a410e35c73c9b196961e5c35127321814 inherit pro_attribs_classframework_1_1EventProcessor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manager for any ntuples.  <a href="classframework_1_1EventProcessor.html#a410e35c73c9b196961e5c35127321814">More...</a><br /></td></tr>
<tr class="separator:a410e35c73c9b196961e5c35127321814 inherit pro_attribs_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae350c3e5c91a69b8910bf1229ed21430 inherit pro_attribs_classframework_1_1EventProcessor"><td class="memItemLeft" align="right" valign="top">logging::logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1EventProcessor.html#ae350c3e5c91a69b8910bf1229ed21430">theLog_</a></td></tr>
<tr class="memdesc:ae350c3e5c91a69b8910bf1229ed21430 inherit pro_attribs_classframework_1_1EventProcessor"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logger for this <a class="el" href="classframework_1_1EventProcessor.html" title="Base class for all event processing components.">EventProcessor</a>.  <a href="classframework_1_1EventProcessor.html#ae350c3e5c91a69b8910bf1229ed21430">More...</a><br /></td></tr>
<tr class="separator:ae350c3e5c91a69b8910bf1229ed21430 inherit pro_attribs_classframework_1_1EventProcessor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Performs basic ECal reconstruction. </p>
<p >Reconstruction is done from the EcalDigi samples. Some hard-coded parameters are used for position and energy calculation. </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00034">34</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9c151ea725b1ab4dc0ece3987cffee93" name="a9c151ea725b1ab4dc0ece3987cffee93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c151ea725b1ab4dc0ece3987cffee93">&#9670;&nbsp;</a></span>EcalRecProducer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ecal::EcalRecProducer::EcalRecProducer </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classframework_1_1Process.html">framework::Process</a> &amp;&#160;</td>
          <td class="paramname"><em>process</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructor </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8cxx_source.html#l00013">13</a> of file <a class="el" href="EcalRecProducer_8cxx_source.html">EcalRecProducer.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>    : <a class="code hl_function" href="classframework_1_1Producer.html#a27ea7492352028e450f24f4750c62e1b">Producer</a>(name, process) {}</div>
<div class="ttc" id="aclassframework_1_1Producer_html_a27ea7492352028e450f24f4750c62e1b"><div class="ttname"><a href="classframework_1_1Producer.html#a27ea7492352028e450f24f4750c62e1b">framework::Producer::Producer</a></div><div class="ttdeci">Producer(const std::string &amp;name, Process &amp;process)</div><div class="ttdef"><b>Definition:</b> <a href="EventProcessor_8cxx_source.html#l00068">EventProcessor.cxx:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a579c3a3b78649fea86f1f1af5ba83263" name="a579c3a3b78649fea86f1f1af5ba83263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a579c3a3b78649fea86f1f1af5ba83263">&#9670;&nbsp;</a></span>~EcalRecProducer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ecal::EcalRecProducer::~EcalRecProducer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Destructor </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8cxx_source.html#l00017">17</a> of file <a class="el" href="EcalRecProducer_8cxx_source.html">EcalRecProducer.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac87588e4ec44d3592d7e8da94714b747" name="ac87588e4ec44d3592d7e8da94714b747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac87588e4ec44d3592d7e8da94714b747">&#9670;&nbsp;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ecal::EcalRecProducer::configure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>ps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Grabs configure parameters from the python config file. </p>

<p>Reimplemented from <a class="el" href="classframework_1_1EventProcessor.html#a21156f6f3954394925e9a265de9d702a">framework::EventProcessor</a>.</p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">19</a> of file <a class="el" href="EcalRecProducer_8cxx_source.html">EcalRecProducer.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>                                                             {</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>  <span class="comment">// collection names</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a6ac1592446be63e4374b03e48ccc0312">digiCollName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;digiCollName&quot;</span>);</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a012213ad552684e03d40feb2fcef24e6">digiPassName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;digiPassName&quot;</span>);</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#ae24493a33c2915e61898fd2f1f2560b2">simHitCollName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;simHitCollName&quot;</span>);</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a9ba0aa95928fa7fadb7a2d46e9fd9e51">simHitPassName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;simHitPassName&quot;</span>);</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a7837ba4e2182a29e20b6e5cb64d27c1b">recHitCollName_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;recHitCollName&quot;</span>);</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a16bc5fea1be38ea40e56bade454b3f4f">layerWeights_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::vector&lt;double&gt;&gt;(<span class="stringliteral">&quot;layerWeights&quot;</span>);</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#af0cf439cba6ce7bd4983aadd950c88b4">secondOrderEnergyCorrection_</a> =</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>      ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;secondOrderEnergyCorrection&quot;</span>);</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a29861cebdc0f75197fb2a20797c044e8">mip_si_energy_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;mip_si_energy&quot;</span>);</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#ac8b9506a1e8133357dc96ec598b0dbc8">clock_cycle_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;clock_cycle&quot;</span>);</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>  <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a779b375acce587530f06f5f8bdf9d41c">charge_per_mip_</a> = ps.<a class="code hl_function" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;charge_per_mip&quot;</span>);</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>}</div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_a012213ad552684e03d40feb2fcef24e6"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#a012213ad552684e03d40feb2fcef24e6">ecal::EcalRecProducer::digiPassName_</a></div><div class="ttdeci">std::string digiPassName_</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00066">EcalRecProducer.h:66</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_a16bc5fea1be38ea40e56bade454b3f4f"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#a16bc5fea1be38ea40e56bade454b3f4f">ecal::EcalRecProducer::layerWeights_</a></div><div class="ttdeci">std::vector&lt; double &gt; layerWeights_</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00094">EcalRecProducer.h:94</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_a29861cebdc0f75197fb2a20797c044e8"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#a29861cebdc0f75197fb2a20797c044e8">ecal::EcalRecProducer::mip_si_energy_</a></div><div class="ttdeci">double mip_si_energy_</div><div class="ttdoc">Energy [MeV] deposited by a MIP in Si 0.5mm thick.</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00078">EcalRecProducer.h:78</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_a6ac1592446be63e4374b03e48ccc0312"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#a6ac1592446be63e4374b03e48ccc0312">ecal::EcalRecProducer::digiCollName_</a></div><div class="ttdeci">std::string digiCollName_</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00063">EcalRecProducer.h:63</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_a779b375acce587530f06f5f8bdf9d41c"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#a779b375acce587530f06f5f8bdf9d41c">ecal::EcalRecProducer::charge_per_mip_</a></div><div class="ttdeci">double charge_per_mip_</div><div class="ttdoc">Number of electrons generated by average MIP in Si 0.5mm thick.</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00084">EcalRecProducer.h:84</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_a7837ba4e2182a29e20b6e5cb64d27c1b"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#a7837ba4e2182a29e20b6e5cb64d27c1b">ecal::EcalRecProducer::recHitCollName_</a></div><div class="ttdeci">std::string recHitCollName_</div><div class="ttdoc">output hit collection name</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00075">EcalRecProducer.h:75</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_a9ba0aa95928fa7fadb7a2d46e9fd9e51"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#a9ba0aa95928fa7fadb7a2d46e9fd9e51">ecal::EcalRecProducer::simHitPassName_</a></div><div class="ttdeci">std::string simHitPassName_</div><div class="ttdoc">simhit pass name</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00072">EcalRecProducer.h:72</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_ac8b9506a1e8133357dc96ec598b0dbc8"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#ac8b9506a1e8133357dc96ec598b0dbc8">ecal::EcalRecProducer::clock_cycle_</a></div><div class="ttdeci">double clock_cycle_</div><div class="ttdoc">Length of clock cycle [ns].</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00081">EcalRecProducer.h:81</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_ae24493a33c2915e61898fd2f1f2560b2"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#ae24493a33c2915e61898fd2f1f2560b2">ecal::EcalRecProducer::simHitCollName_</a></div><div class="ttdeci">std::string simHitCollName_</div><div class="ttdoc">simhit collection name</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00069">EcalRecProducer.h:69</a></div></div>
<div class="ttc" id="aclassecal_1_1EcalRecProducer_html_af0cf439cba6ce7bd4983aadd950c88b4"><div class="ttname"><a href="classecal_1_1EcalRecProducer.html#af0cf439cba6ce7bd4983aadd950c88b4">ecal::EcalRecProducer::secondOrderEnergyCorrection_</a></div><div class="ttdeci">double secondOrderEnergyCorrection_</div><div class="ttdef"><b>Definition:</b> <a href="EcalRecProducer_8h_source.html#l00104">EcalRecProducer.h:104</a></div></div>
<div class="ttc" id="aclassframework_1_1config_1_1Parameters_html_a18206b7c01007dd706abce7e5505eae1"><div class="ttname"><a href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">framework::config::Parameters::getParameter</a></div><div class="ttdeci">T getParameter(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="Parameters_8h_source.html#l00089">Parameters.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="EcalRecProducer_8h_source.html#l00084">charge_per_mip_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00081">clock_cycle_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00063">digiCollName_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00066">digiPassName_</a>, <a class="el" href="Parameters_8h_source.html#l00089">framework::config::Parameters::getParameter()</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00094">layerWeights_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00078">mip_si_energy_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00075">recHitCollName_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00104">secondOrderEnergyCorrection_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00069">simHitCollName_</a>, and <a class="el" href="EcalRecProducer_8h_source.html#l00072">simHitPassName_</a>.</p>

</div>
</div>
<a id="a9df89c47dc53072d3900eca621fc630e" name="a9df89c47dc53072d3900eca621fc630e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9df89c47dc53072d3900eca621fc630e">&#9670;&nbsp;</a></span>produce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ecal::EcalRecProducer::produce </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classframework_1_1Event.html">framework::Event</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Produce EcalHits and put them into the event bus using the EcalDigis as input.</p>
<p >This function unfolds the digi samples taken by the HGC ROC and reconstructs their energy using knowledge of how the chip operates and the position using EcalHexReadout. </p>
<p >Negative Electron (charge) count This reconstruction error occurs when the ADC value is below the ADC pedestal for that channel. In the normal running mode, this will never happen because our front-end (the digi emulator or the digitizer itself) will suppress any signals that are below the readout threshold. Nevertheless, in some running modes, we don't have this zero suppression, so we need to check that the reconstruction charge (count of electrons) is non-negative.</p>

<p>Implements <a class="el" href="classframework_1_1Producer.html#a8591fb1e12fd5d8b1f2a5838d030042e">framework::Producer</a>.</p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">36</a> of file <a class="el" href="EcalRecProducer_8cxx_source.html">EcalRecProducer.cxx</a>.</p>
<div class="fragment"><div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>                                                   {</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>  <span class="comment">// Get the Ecal Geometry</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>  <span class="keyword">const</span> <a class="code hl_class" href="classldmx_1_1EcalHexReadout.html">ldmx::EcalHexReadout</a>&amp; hexReadout = getCondition&lt;ldmx::EcalHexReadout&gt;(</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>      ldmx::EcalHexReadout::CONDITIONS_OBJECT_NAME);</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>  <span class="comment">// Get the reconstruction parameters</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>  EcalReconConditions the_conditions(</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>      getCondition&lt;conditions::DoubleTableCondition&gt;(</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>          <a class="code hl_variable" href="classecal_1_1EcalReconConditions.html#abc0ebec41c7e783714ddfbdcfec4909a">EcalReconConditions::CONDITIONS_NAME</a>));</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  std::vector&lt;ldmx::EcalHit&gt; ecalRecHits;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  <span class="keyword">auto</span> ecalDigis =</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>      <span class="keyword">event</span>.getObject&lt;<a class="code hl_class" href="classldmx_1_1HgcrocDigiCollection.html">ldmx::HgcrocDigiCollection</a>&gt;(<a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a6ac1592446be63e4374b03e48ccc0312">digiCollName_</a>, <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a012213ad552684e03d40feb2fcef24e6">digiPassName_</a>);</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  <span class="comment">// loop through digis</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> digi : ecalDigis) {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// ID from first digi sample</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="comment">//  assuming rest of samples have same ID</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <a class="code hl_class" href="classldmx_1_1EcalID.html">ldmx::EcalID</a> id(digi.id());</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="comment">// ID to real space position</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="keywordtype">double</span> x, y, z;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    hexReadout.<a class="code hl_function" href="classldmx_1_1EcalHexReadout.html#a9e179626757c116ccc8dc85e825fbf66">getCellAbsolutePosition</a>(<span class="keywordtype">id</span>, x, y, z);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="comment">// TOA is the time of arrival with respect to the 25ns clock window</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="comment">//  TODO what to do if hit NOT in first clock cycle?</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="keywordtype">double</span> timeRelClock25 = digi.soi().toa() * (<a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#ac8b9506a1e8133357dc96ec598b0dbc8">clock_cycle_</a> / 1024);  <span class="comment">// ns</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="keywordtype">double</span> hitTime = timeRelClock25;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="comment">// get the estimated charge deposited from digi samples</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="keywordtype">double</span> charge(0.);</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="comment">/* debug printout</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment">    std::cout &lt;&lt; &quot;Recon { &quot;</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">        &lt;&lt; &quot;ID: &quot; &lt;&lt; id &lt;&lt; &quot;, &quot;</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment">        &lt;&lt; &quot;TOA: &quot; &lt;&lt; hitTime &lt;&lt; &quot;ns } &quot;;</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment">        */</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="keywordflow">if</span> (digi.isTOT()) {</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>      <span class="comment">// TOT - number of clock ticks that pulse was over threshold</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>      <span class="comment">//  this is related to the amplitude of the pulse approximately through a</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>      <span class="comment">//  linear drain rate the amplitude of the pulse is related to the energy</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>      <span class="comment">//  deposited</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>      <span class="comment">// convert the time over threshold into a total energy deposited in the</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>      <span class="comment">// silicon</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>      <span class="comment">//  (time over threshold [ns] - pedestal) * gain</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>      charge = (digi.tot() - the_conditions.totPedestal(<span class="keywordtype">id</span>)) *</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>               the_conditions.totGain(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>      <span class="comment">/* debug printout</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">      std::cout &lt;&lt; &quot;TOT Mode -&gt; &quot; &lt;&lt; digi.tot() &lt;&lt; &quot;TDC -&gt; &quot; &lt;&lt; charge &lt;&lt; &quot; fC&quot;;</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">       */</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>      <span class="comment">// ADC mode of readout</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>      <span class="comment">// ADC - voltage measurement at a specific time of the pulse</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>      <span class="comment">// Pulse Shape:</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>      <span class="comment">//  p[0]/(1.0+exp(p[1](t-p[2]+p[3]-p[4])))/(1.0+exp(p[5]*(t-p[6]+p[3]-p[4])))</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>      <span class="comment">//  p[0] = amplitude to be fit (TBD)</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>      <span class="comment">//  p[1] = -0.345 shape parameter - rate of up slope</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>      <span class="comment">//  p[2] = 70.6547 shape parameter - time of up slope relative to shape</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>      <span class="comment">//  fit p[3] = 77.732 shape parameter - time of peak relative to shape fit</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>      <span class="comment">//  p[4] = peak time to be fit (TBD)</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>      <span class="comment">//  p[5] = 0.140068 shape parameter - rate of down slope</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>      <span class="comment">//  p[6] = 87.7649 shape paramter - time of down slope relative to shape</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>      <span class="comment">//  fit</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>      <span class="comment">// These measurements can be used to fit the pulse shape if TOT is not</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>      <span class="comment">// available. For now, we simply take the measurement of the SOI as the</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>      <span class="comment">// peak amplitude.</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>      charge = (digi.soi().adc_t() - the_conditions.adcPedestal(<span class="keywordtype">id</span>)) *</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>               the_conditions.adcGain(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>      <span class="comment">/* debug printout</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">      std::cout &lt;&lt; &quot;ADC Mode -&gt; &quot; &lt;&lt; charge &lt;&lt; &quot; fC&quot;;</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment">       */</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="keywordflow">if</span> (charge &lt; 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordtype">double</span> num_mips_equivalent = charge / <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a779b375acce587530f06f5f8bdf9d41c">charge_per_mip_</a>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keywordtype">double</span> energy_deposited_in_Si = num_mips_equivalent * <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a29861cebdc0f75197fb2a20797c044e8">mip_si_energy_</a>;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">/* debug printout</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="comment">    std::cout &lt;&lt; &quot; -&gt; &quot; &lt;&lt; num_mips_equivalent</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="comment">        &lt;&lt; &quot; equiv MIPs -&gt; &quot; &lt;&lt; energy_deposited_in_Si &lt;&lt; &quot; MeV&quot;</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="comment">        &lt;&lt; std::endl;</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment">     */</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// incorporate layer weights</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keywordtype">double</span> reconstructed_energy =</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        (num_mips_equivalent *</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>             <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a16bc5fea1be38ea40e56bade454b3f4f">layerWeights_</a>.at(</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                 <span class="keywordtype">id</span>.layer())       <span class="comment">// energy lost in non-sensitive layers</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>         + energy_deposited_in_Si  <span class="comment">// energy deposited in Si itself</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>         ) *</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#af0cf439cba6ce7bd4983aadd950c88b4">secondOrderEnergyCorrection_</a>;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// copy over information to rec hit structure in new collection</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <a class="code hl_class" href="classldmx_1_1EcalHit.html">ldmx::EcalHit</a> recHit;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a2d6ec38056cae0551fc4797f41f70ca8">setID</a>(<span class="keywordtype">id</span>.raw());</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a4e27b8b75b5c31e8df4e6b91b990eefa">setXPos</a>(x);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a0e87292d2c4b99a8aa8503179a427914">setYPos</a>(y);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a4c53b3749aab62c9e0878abdb698464f">setZPos</a>(z);</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a5cd5e530e62a0629b6f3209f77974fd9">setAmplitude</a>(energy_deposited_in_Si);</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a63067db3972e32ed26f2b3a5ea8e46f8">setEnergy</a>(reconstructed_energy);</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    recHit.<a class="code hl_function" href="classldmx_1_1CalorimeterHit.html#a590256945dbfaa97d2528b9f260b6760">setTime</a>(hitTime);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    ecalRecHits.push_back(recHit);</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  }</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> </div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <span class="keywordflow">if</span> (event.<a class="code hl_function" href="classframework_1_1Event.html#a7e65967eea5ac3172852838f1c8f266a">exists</a>(<a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#ae24493a33c2915e61898fd2f1f2560b2">simHitCollName_</a>, <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a9ba0aa95928fa7fadb7a2d46e9fd9e51">simHitPassName_</a>)) {</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// ecal sim hits exist ==&gt; label which hits are real and which are pure</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="comment">// noise</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keyword">auto</span> ecalSimHits{<span class="keyword">event</span>.getCollection&lt;<a class="code hl_class" href="classldmx_1_1SimCalorimeterHit.html">ldmx::SimCalorimeterHit</a>&gt;(</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#ae24493a33c2915e61898fd2f1f2560b2">simHitCollName_</a>, <a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a9ba0aa95928fa7fadb7a2d46e9fd9e51">simHitPassName_</a>)};</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    std::set&lt;int&gt; real_hits;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; sim_hit : ecalSimHits) real_hits.insert(sim_hit.getID());</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; hit : ecalRecHits)</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>      hit.setNoise(real_hits.find(hit.getID()) == real_hits.end());</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>  }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  <span class="comment">// add collection to event bus</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  <span class="keyword">event</span>.add(<a class="code hl_variable" href="classecal_1_1EcalRecProducer.html#a7837ba4e2182a29e20b6e5cb64d27c1b">recHitCollName_</a>, ecalRecHits);</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>}</div>
<div class="ttc" id="aclassecal_1_1EcalReconConditions_html_abc0ebec41c7e783714ddfbdcfec4909a"><div class="ttname"><a href="classecal_1_1EcalReconConditions.html#abc0ebec41c7e783714ddfbdcfec4909a">ecal::EcalReconConditions::CONDITIONS_NAME</a></div><div class="ttdeci">static const std::string CONDITIONS_NAME</div><div class="ttdef"><b>Definition:</b> <a href="EcalReconConditions_8h_source.html#l00021">EcalReconConditions.h:21</a></div></div>
<div class="ttc" id="aclassframework_1_1Event_html_a7e65967eea5ac3172852838f1c8f266a"><div class="ttname"><a href="classframework_1_1Event.html#a7e65967eea5ac3172852838f1c8f266a">framework::Event::exists</a></div><div class="ttdeci">bool exists(const std::string &amp;name, const std::string &amp;passName=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="Event_8h_source.html#l00105">Event.h:105</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a0e87292d2c4b99a8aa8503179a427914"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a0e87292d2c4b99a8aa8503179a427914">ldmx::CalorimeterHit::setYPos</a></div><div class="ttdeci">void setYPos(float ypos)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00123">CalorimeterHit.h:123</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a2d6ec38056cae0551fc4797f41f70ca8"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a2d6ec38056cae0551fc4797f41f70ca8">ldmx::CalorimeterHit::setID</a></div><div class="ttdeci">void setID(int id)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00057">CalorimeterHit.h:57</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a4c53b3749aab62c9e0878abdb698464f"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a4c53b3749aab62c9e0878abdb698464f">ldmx::CalorimeterHit::setZPos</a></div><div class="ttdeci">void setZPos(float zpos)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00135">CalorimeterHit.h:135</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a4e27b8b75b5c31e8df4e6b91b990eefa"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a4e27b8b75b5c31e8df4e6b91b990eefa">ldmx::CalorimeterHit::setXPos</a></div><div class="ttdeci">void setXPos(float xpos)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00111">CalorimeterHit.h:111</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a590256945dbfaa97d2528b9f260b6760"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a590256945dbfaa97d2528b9f260b6760">ldmx::CalorimeterHit::setTime</a></div><div class="ttdeci">void setTime(float time)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00099">CalorimeterHit.h:99</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a5cd5e530e62a0629b6f3209f77974fd9"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a5cd5e530e62a0629b6f3209f77974fd9">ldmx::CalorimeterHit::setAmplitude</a></div><div class="ttdeci">void setAmplitude(float amplitude)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00073">CalorimeterHit.h:73</a></div></div>
<div class="ttc" id="aclassldmx_1_1CalorimeterHit_html_a63067db3972e32ed26f2b3a5ea8e46f8"><div class="ttname"><a href="classldmx_1_1CalorimeterHit.html#a63067db3972e32ed26f2b3a5ea8e46f8">ldmx::CalorimeterHit::setEnergy</a></div><div class="ttdeci">void setEnergy(float energy)</div><div class="ttdef"><b>Definition:</b> <a href="CalorimeterHit_8h_source.html#l00087">CalorimeterHit.h:87</a></div></div>
<div class="ttc" id="aclassldmx_1_1EcalHexReadout_html"><div class="ttname"><a href="classldmx_1_1EcalHexReadout.html">ldmx::EcalHexReadout</a></div><div class="ttdoc">Implementation of ECal hexagonal cell readout.</div><div class="ttdef"><b>Definition:</b> <a href="EcalHexReadout_8h_source.html#l00067">EcalHexReadout.h:67</a></div></div>
<div class="ttc" id="aclassldmx_1_1EcalHexReadout_html_a9e179626757c116ccc8dc85e825fbf66"><div class="ttname"><a href="classldmx_1_1EcalHexReadout.html#a9e179626757c116ccc8dc85e825fbf66">ldmx::EcalHexReadout::getCellAbsolutePosition</a></div><div class="ttdeci">void getCellAbsolutePosition(EcalID id, double &amp;x, double &amp;y, double &amp;z) const</div><div class="ttdef"><b>Definition:</b> <a href="EcalHexReadout_8h_source.html#l00090">EcalHexReadout.h:90</a></div></div>
<div class="ttc" id="aclassldmx_1_1EcalHit_html"><div class="ttname"><a href="classldmx_1_1EcalHit.html">ldmx::EcalHit</a></div><div class="ttdoc">Stores reconstructed hit information from the ECAL.</div><div class="ttdef"><b>Definition:</b> <a href="EcalHit_8h_source.html#l00019">EcalHit.h:19</a></div></div>
<div class="ttc" id="aclassldmx_1_1EcalID_html"><div class="ttname"><a href="classldmx_1_1EcalID.html">ldmx::EcalID</a></div><div class="ttdoc">Extension of DetectorID providing access to ECal layers and cell numbers in a hex grid.</div><div class="ttdef"><b>Definition:</b> <a href="EcalID_8h_source.html#l00020">EcalID.h:20</a></div></div>
<div class="ttc" id="aclassldmx_1_1HgcrocDigiCollection_html"><div class="ttname"><a href="classldmx_1_1HgcrocDigiCollection.html">ldmx::HgcrocDigiCollection</a></div><div class="ttdoc">Represents a collection of the digi hits readout by an HGCROC.</div><div class="ttdef"><b>Definition:</b> <a href="HgcrocDigiCollection_8h_source.html#l00042">HgcrocDigiCollection.h:42</a></div></div>
<div class="ttc" id="aclassldmx_1_1SimCalorimeterHit_html"><div class="ttname"><a href="classldmx_1_1SimCalorimeterHit.html">ldmx::SimCalorimeterHit</a></div><div class="ttdoc">Stores simulated calorimeter hit information.</div><div class="ttdef"><b>Definition:</b> <a href="SimCalorimeterHit_8h_source.html#l00031">SimCalorimeterHit.h:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="EcalReconConditions_8h_source.html#l00070">ecal::EcalReconConditions::adcGain()</a>, <a class="el" href="EcalReconConditions_8h_source.html#l00056">ecal::EcalReconConditions::adcPedestal()</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00084">charge_per_mip_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00081">clock_cycle_</a>, <a class="el" href="EcalReconConditions_8h_source.html#l00021">ecal::EcalReconConditions::CONDITIONS_NAME</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00063">digiCollName_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00066">digiPassName_</a>, <a class="el" href="Event_8h_source.html#l00105">framework::Event::exists()</a>, <a class="el" href="EcalHexReadout_8h_source.html#l00090">ldmx::EcalHexReadout::getCellAbsolutePosition()</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00094">layerWeights_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00078">mip_si_energy_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00075">recHitCollName_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00104">secondOrderEnergyCorrection_</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00073">ldmx::CalorimeterHit::setAmplitude()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00087">ldmx::CalorimeterHit::setEnergy()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00057">ldmx::CalorimeterHit::setID()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00099">ldmx::CalorimeterHit::setTime()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00111">ldmx::CalorimeterHit::setXPos()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00123">ldmx::CalorimeterHit::setYPos()</a>, <a class="el" href="CalorimeterHit_8h_source.html#l00135">ldmx::CalorimeterHit::setZPos()</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00069">simHitCollName_</a>, <a class="el" href="EcalRecProducer_8h_source.html#l00072">simHitPassName_</a>, <a class="el" href="EcalReconConditions_8h_source.html#l00094">ecal::EcalReconConditions::totGain()</a>, and <a class="el" href="EcalReconConditions_8h_source.html#l00080">ecal::EcalReconConditions::totPedestal()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a779b375acce587530f06f5f8bdf9d41c" name="a779b375acce587530f06f5f8bdf9d41c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a779b375acce587530f06f5f8bdf9d41c">&#9670;&nbsp;</a></span>charge_per_mip_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ecal::EcalRecProducer::charge_per_mip_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of electrons generated by average MIP in Si 0.5mm thick. </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00084">84</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="ac8b9506a1e8133357dc96ec598b0dbc8" name="ac8b9506a1e8133357dc96ec598b0dbc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b9506a1e8133357dc96ec598b0dbc8">&#9670;&nbsp;</a></span>clock_cycle_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ecal::EcalRecProducer::clock_cycle_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Length of clock cycle [ns]. </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00081">81</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="a6ac1592446be63e4374b03e48ccc0312" name="a6ac1592446be63e4374b03e48ccc0312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac1592446be63e4374b03e48ccc0312">&#9670;&nbsp;</a></span>digiCollName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ecal::EcalRecProducer::digiCollName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Digi Collection Name to use as input </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00063">63</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="a012213ad552684e03d40feb2fcef24e6" name="a012213ad552684e03d40feb2fcef24e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012213ad552684e03d40feb2fcef24e6">&#9670;&nbsp;</a></span>digiPassName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ecal::EcalRecProducer::digiPassName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Digi Pass Name to use as input </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00066">66</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="a16bc5fea1be38ea40e56bade454b3f4f" name="a16bc5fea1be38ea40e56bade454b3f4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16bc5fea1be38ea40e56bade454b3f4f">&#9670;&nbsp;</a></span>layerWeights_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; ecal::EcalRecProducer::layerWeights_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Layer Weights to use for this reconstruction</p>
<p >Layer weights account for the energy lost in the absorber directly in front of the Silicon layer where the measured energy was deposited. These are determined by calculating the average amount of energy lost by a MIP passing through the extra material between sensitive layers. </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00094">94</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="a29861cebdc0f75197fb2a20797c044e8" name="a29861cebdc0f75197fb2a20797c044e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29861cebdc0f75197fb2a20797c044e8">&#9670;&nbsp;</a></span>mip_si_energy_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ecal::EcalRecProducer::mip_si_energy_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Energy [MeV] deposited by a MIP in Si 0.5mm thick. </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00078">78</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="a7837ba4e2182a29e20b6e5cb64d27c1b" name="a7837ba4e2182a29e20b6e5cb64d27c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7837ba4e2182a29e20b6e5cb64d27c1b">&#9670;&nbsp;</a></span>recHitCollName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ecal::EcalRecProducer::recHitCollName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>output hit collection name </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00075">75</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="af0cf439cba6ce7bd4983aadd950c88b4" name="af0cf439cba6ce7bd4983aadd950c88b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0cf439cba6ce7bd4983aadd950c88b4">&#9670;&nbsp;</a></span>secondOrderEnergyCorrection_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ecal::EcalRecProducer::secondOrderEnergyCorrection_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Second Order Energy Correction to use for this reconstruction</p>
<p >This is a shift applied to all of the energies in order to have the mean of the total energy deposited in the ECal be accurate. This is less physically motivated than the layer weights and is more of a calibration number. </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00104">104</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="ae24493a33c2915e61898fd2f1f2560b2" name="ae24493a33c2915e61898fd2f1f2560b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae24493a33c2915e61898fd2f1f2560b2">&#9670;&nbsp;</a></span>simHitCollName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ecal::EcalRecProducer::simHitCollName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>simhit collection name </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00069">69</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<a id="a9ba0aa95928fa7fadb7a2d46e9fd9e51" name="a9ba0aa95928fa7fadb7a2d46e9fd9e51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba0aa95928fa7fadb7a2d46e9fd9e51">&#9670;&nbsp;</a></span>simHitPassName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ecal::EcalRecProducer::simHitPassName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>simhit pass name </p>

<p class="definition">Definition at line <a class="el" href="EcalRecProducer_8h_source.html#l00072">72</a> of file <a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="EcalRecProducer_8cxx_source.html#l00019">configure()</a>, and <a class="el" href="EcalRecProducer_8cxx_source.html#l00036">produce()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Ecal/include/Ecal/<a class="el" href="EcalRecProducer_8h_source.html">EcalRecProducer.h</a></li>
<li>Ecal/src/Ecal/<a class="el" href="EcalRecProducer_8cxx_source.html">EcalRecProducer.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>