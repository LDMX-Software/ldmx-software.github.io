<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.9.1"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>LDMX Software: framework::RandomNumberSeedService Class Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">LDMX Software
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceframework.html">framework</a></li><li class="navelem"><a class="el" href="classframework_1_1RandomNumberSeedService.html">RandomNumberSeedService</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classframework_1_1RandomNumberSeedService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">framework::RandomNumberSeedService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="RandomNumberSeedService_8h_source.html">RandomNumberSeedService.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a33206514ed2376dd2d68dfd0993abe40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a33206514ed2376dd2d68dfd0993abe40">RandomNumberSeedService</a> (const std::string &amp;name, const std::string &amp;tagname, const <a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;parameters, <a class="el" href="classframework_1_1Process.html">Process</a> &amp;<a class="el" href="classframework_1_1ConditionsObjectProvider.html#a53f7b8e8ad2ff80bfbfe1e3ffed123b4">process</a>)</td></tr>
<tr class="separator:a33206514ed2376dd2d68dfd0993abe40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1758292d5f26c0aebe180248541635"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#ade1758292d5f26c0aebe180248541635">onNewRun</a> (<a class="el" href="classldmx_1_1RunHeader.html">ldmx::RunHeader</a> &amp;header)</td></tr>
<tr class="separator:ade1758292d5f26c0aebe180248541635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8678b993114299bd7afee487367fb249"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a8678b993114299bd7afee487367fb249">getSeed</a> (const std::string &amp;name) const</td></tr>
<tr class="separator:a8678b993114299bd7afee487367fb249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46485e1c011de3e069a809b9495aae44"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a46485e1c011de3e069a809b9495aae44">getSeedNames</a> () const</td></tr>
<tr class="separator:a46485e1c011de3e069a809b9495aae44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce73590dc48476919aa9574bcac37e5"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a6ce73590dc48476919aa9574bcac37e5">getMasterSeed</a> () const</td></tr>
<tr class="separator:a6ce73590dc48476919aa9574bcac37e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0025ca535998ec03d6c41e643388c233"><td class="memItemLeft" align="right" valign="top">virtual std::pair&lt; const <a class="el" href="classframework_1_1ConditionsObject.html">ConditionsObject</a> *, <a class="el" href="classframework_1_1ConditionsIOV.html">ConditionsIOV</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a0025ca535998ec03d6c41e643388c233">getCondition</a> (const <a class="el" href="classldmx_1_1EventHeader.html">ldmx::EventHeader</a> &amp;context)</td></tr>
<tr class="separator:a0025ca535998ec03d6c41e643388c233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485498ee9c7a1ce2bb51a2a32f5de6b3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a485498ee9c7a1ce2bb51a2a32f5de6b3">releaseConditionsObject</a> (const <a class="el" href="classframework_1_1ConditionsObject.html">ConditionsObject</a> *co)</td></tr>
<tr class="separator:a485498ee9c7a1ce2bb51a2a32f5de6b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae26eda8f2489e456b69dfc75f2387e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#aeae26eda8f2489e456b69dfc75f2387e">stream</a> (std::ostream &amp;s) const</td></tr>
<tr class="separator:aeae26eda8f2489e456b69dfc75f2387e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classframework_1_1ConditionsObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classframework_1_1ConditionsObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classframework_1_1ConditionsObject.html">framework::ConditionsObject</a></td></tr>
<tr class="memitem:a47cde9473f38ece4308bc86449b7f7cd inherit pub_methods_classframework_1_1ConditionsObject"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObject.html#a47cde9473f38ece4308bc86449b7f7cd">ConditionsObject</a> (const std::string &amp;name)</td></tr>
<tr class="separator:a47cde9473f38ece4308bc86449b7f7cd inherit pub_methods_classframework_1_1ConditionsObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad27a2b212637154ee120a39d2218fa inherit pub_methods_classframework_1_1ConditionsObject"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObject.html#acad27a2b212637154ee120a39d2218fa">~ConditionsObject</a> ()</td></tr>
<tr class="separator:acad27a2b212637154ee120a39d2218fa inherit pub_methods_classframework_1_1ConditionsObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b359953434555cd095503c57344fca inherit pub_methods_classframework_1_1ConditionsObject"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObject.html#aa9b359953434555cd095503c57344fca">getName</a> () const</td></tr>
<tr class="separator:aa9b359953434555cd095503c57344fca inherit pub_methods_classframework_1_1ConditionsObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classframework_1_1ConditionsObjectProvider"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classframework_1_1ConditionsObjectProvider')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classframework_1_1ConditionsObjectProvider.html">framework::ConditionsObjectProvider</a></td></tr>
<tr class="memitem:abd817d060b44cfcaa6c9b24d0ebf22a4 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#abd817d060b44cfcaa6c9b24d0ebf22a4">ConditionsObjectProvider</a> (const std::string &amp;objname, const std::string &amp;tagname, const <a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;parameters, <a class="el" href="classframework_1_1Process.html">Process</a> &amp;<a class="el" href="classframework_1_1ConditionsObjectProvider.html#a53f7b8e8ad2ff80bfbfe1e3ffed123b4">process</a>)</td></tr>
<tr class="separator:abd817d060b44cfcaa6c9b24d0ebf22a4 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a419b74438919792b8c95f5bcf9962129 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#a419b74438919792b8c95f5bcf9962129">~ConditionsObjectProvider</a> ()</td></tr>
<tr class="separator:a419b74438919792b8c95f5bcf9962129 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7369a9deaab3a02086bf467a078b95 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#a1c7369a9deaab3a02086bf467a078b95">onProcessStart</a> ()</td></tr>
<tr class="separator:a1c7369a9deaab3a02086bf467a078b95 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa50ee6ce792b9d17455080d9aebc844d inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#aa50ee6ce792b9d17455080d9aebc844d">onProcessEnd</a> ()</td></tr>
<tr class="separator:aa50ee6ce792b9d17455080d9aebc844d inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a71008fc7813aa2aef848a86679356 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#af1a71008fc7813aa2aef848a86679356">getConditionObjectName</a> () const</td></tr>
<tr class="separator:af1a71008fc7813aa2aef848a86679356 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b435ef2ee7fed3793b801bfc395ad5 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#aa1b435ef2ee7fed3793b801bfc395ad5">getTagName</a> () const</td></tr>
<tr class="separator:aa1b435ef2ee7fed3793b801bfc395ad5 inherit pub_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a48e87463ea63d1862064cad26d5b9bb4"><td class="memItemLeft" align="right" valign="top">static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a48e87463ea63d1862064cad26d5b9bb4">CONDITIONS_OBJECT_NAME</a></td></tr>
<tr class="memdesc:a48e87463ea63d1862064cad26d5b9bb4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classframework_1_1Conditions.html" title="Container and cache for conditions and conditions providers.">Conditions</a> object name.  <a href="classframework_1_1RandomNumberSeedService.html#a48e87463ea63d1862064cad26d5b9bb4">More...</a><br /></td></tr>
<tr class="separator:a48e87463ea63d1862064cad26d5b9bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classframework_1_1ConditionsObjectProvider"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classframework_1_1ConditionsObjectProvider')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classframework_1_1ConditionsObjectProvider.html">framework::ConditionsObjectProvider</a></td></tr>
<tr class="memitem:a15119cc6fd51040c5dc8a2a95621df17 inherit pub_static_attribs_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#a15119cc6fd51040c5dc8a2a95621df17">CLASSTYPE</a> {10}</td></tr>
<tr class="separator:a15119cc6fd51040c5dc8a2a95621df17 inherit pub_static_attribs_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a00a877ce5fddfb81e8cee3e9b7ad4ee7"><td class="memItemLeft" align="right" valign="top"><a id="a00a877ce5fddfb81e8cee3e9b7ad4ee7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a00a877ce5fddfb81e8cee3e9b7ad4ee7">initialized_</a> {false}</td></tr>
<tr class="memdesc:a00a877ce5fddfb81e8cee3e9b7ad4ee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether the master seed has been initialized <br /></td></tr>
<tr class="separator:a00a877ce5fddfb81e8cee3e9b7ad4ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c713fa824f6b9f87cb7f73fa7bcece4"><td class="memItemLeft" align="right" valign="top"><a id="a4c713fa824f6b9f87cb7f73fa7bcece4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> {0}</td></tr>
<tr class="memdesc:a4c713fa824f6b9f87cb7f73fa7bcece4"><td class="mdescLeft">&#160;</td><td class="mdescRight">what mode of master seed are we using <br /></td></tr>
<tr class="separator:a4c713fa824f6b9f87cb7f73fa7bcece4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f15e53cabf325ae6c3e94b8342fa705"><td class="memItemLeft" align="right" valign="top"><a id="a6f15e53cabf325ae6c3e94b8342fa705"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a> {0}</td></tr>
<tr class="memdesc:a6f15e53cabf325ae6c3e94b8342fa705"><td class="mdescLeft">&#160;</td><td class="mdescRight">what the master seed actually is <br /></td></tr>
<tr class="separator:a6f15e53cabf325ae6c3e94b8342fa705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24944b14202db81901da0342c278ddb1"><td class="memItemLeft" align="right" valign="top"><a id="a24944b14202db81901da0342c278ddb1"></a>
std::map&lt; std::string, uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#a24944b14202db81901da0342c278ddb1">seeds_</a></td></tr>
<tr class="memdesc:a24944b14202db81901da0342c278ddb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">cache of seeds by name <br /></td></tr>
<tr class="separator:a24944b14202db81901da0342c278ddb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ad869b03ef245a11516540459c40f387f"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1RandomNumberSeedService.html#ad869b03ef245a11516540459c40f387f">operator&lt;&lt;</a> (std::ostream &amp;s, const <a class="el" href="classframework_1_1RandomNumberSeedService.html">RandomNumberSeedService</a> &amp;o)</td></tr>
<tr class="separator:ad869b03ef245a11516540459c40f387f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classframework_1_1ConditionsObjectProvider"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classframework_1_1ConditionsObjectProvider')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classframework_1_1ConditionsObjectProvider.html">framework::ConditionsObjectProvider</a></td></tr>
<tr class="memitem:ae17b4f1ed00b020640325d9ce96bdfda inherit pub_static_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#ae17b4f1ed00b020640325d9ce96bdfda">declare</a> (const std::string &amp;classname, <a class="el" href="namespaceframework.html#a028a83f4c76e8f5d39a61c05c7fa0834">ConditionsObjectProviderMaker</a> *)</td></tr>
<tr class="separator:ae17b4f1ed00b020640325d9ce96bdfda inherit pub_static_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classframework_1_1ConditionsObjectProvider"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classframework_1_1ConditionsObjectProvider')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classframework_1_1ConditionsObjectProvider.html">framework::ConditionsObjectProvider</a></td></tr>
<tr class="memitem:a37c8a350878fd374d526cd9716b47f1e inherit pro_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">std::pair&lt; const <a class="el" href="classframework_1_1ConditionsObject.html">ConditionsObject</a> *, <a class="el" href="classframework_1_1ConditionsIOV.html">ConditionsIOV</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#a37c8a350878fd374d526cd9716b47f1e">requestParentCondition</a> (const std::string &amp;name, const <a class="el" href="classldmx_1_1EventHeader.html">ldmx::EventHeader</a> &amp;context)</td></tr>
<tr class="separator:a37c8a350878fd374d526cd9716b47f1e inherit pro_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f7b8e8ad2ff80bfbfe1e3ffed123b4 inherit pro_methods_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classframework_1_1Process.html">Process</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#a53f7b8e8ad2ff80bfbfe1e3ffed123b4">process</a> () const</td></tr>
<tr class="separator:a53f7b8e8ad2ff80bfbfe1e3ffed123b4 inherit pro_methods_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classframework_1_1ConditionsObjectProvider"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classframework_1_1ConditionsObjectProvider')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classframework_1_1ConditionsObjectProvider.html">framework::ConditionsObjectProvider</a></td></tr>
<tr class="memitem:a3d47ae303bfb5c5145f214691f2c06d7 inherit pro_attribs_classframework_1_1ConditionsObjectProvider"><td class="memItemLeft" align="right" valign="top"><a id="a3d47ae303bfb5c5145f214691f2c06d7"></a>
logging::logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframework_1_1ConditionsObjectProvider.html#a3d47ae303bfb5c5145f214691f2c06d7">theLog_</a></td></tr>
<tr class="memdesc:a3d47ae303bfb5c5145f214691f2c06d7 inherit pro_attribs_classframework_1_1ConditionsObjectProvider"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logger for this <a class="el" href="classframework_1_1ConditionsObjectProvider.html" title="Base class for all providers of conditions objects.">ConditionsObjectProvider</a>. <br /></td></tr>
<tr class="separator:a3d47ae303bfb5c5145f214691f2c06d7 inherit pro_attribs_classframework_1_1ConditionsObjectProvider"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>System for consistent seeding of random number generators</p>
<p>The system can be configured in a number of different ways. In general, seeds are constructed based on a master seed. That master seed can be constructed in a number of ways, chosen in the python configuration. (a) The master seed can be the run number of the first run observed by the service ("Run") (b) The master seed can be based on the current time ("Time") (c) The master seed can be provided in the python configuration ("External")</p>
<p>Individual seeds are then constructed using the master seed and a simple hash based on the name of the seed. Seeds can also be specified in the python file, in which case no autoseeding will be performed. </p>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8h_source.html#l00033">33</a> of file <a class="el" href="RandomNumberSeedService_8h_source.html">RandomNumberSeedService.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a33206514ed2376dd2d68dfd0993abe40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33206514ed2376dd2d68dfd0993abe40">&#9670;&nbsp;</a></span>RandomNumberSeedService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">framework::RandomNumberSeedService::RandomNumberSeedService </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>tagname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classframework_1_1config_1_1Parameters.html">framework::config::Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classframework_1_1Process.html">Process</a> &amp;&#160;</td>
          <td class="paramname"><em>process</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the random number seed service conditions object</p>
<p>This is where we decide what seed mode we will be running in.</p>
<p>@TODO allow loading of hand-provided seeds from python</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the name of this provider </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tagname</td><td>the name of the tag generation of this condition </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parameters</td><td>configuration parameters from python </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">process</td><td>reference to the running process object </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8cxx_source.html#l00027">27</a> of file <a class="el" href="RandomNumberSeedService_8cxx_source.html">RandomNumberSeedService.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    : <a class="code" href="classframework_1_1ConditionsObject.html#a47cde9473f38ece4308bc86449b7f7cd">ConditionsObject</a>(<a class="code" href="classframework_1_1RandomNumberSeedService.html#a48e87463ea63d1862064cad26d5b9bb4">CONDITIONS_OBJECT_NAME</a>),</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      <a class="code" href="classframework_1_1ConditionsObjectProvider.html#abd817d060b44cfcaa6c9b24d0ebf22a4">ConditionsObjectProvider</a>(<a class="code" href="classframework_1_1RandomNumberSeedService.html#a48e87463ea63d1862064cad26d5b9bb4">CONDITIONS_OBJECT_NAME</a>, tagname, parameters,</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                               <a class="code" href="classframework_1_1ConditionsObjectProvider.html#a53f7b8e8ad2ff80bfbfe1e3ffed123b4">process</a>) {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keyword">auto</span> seeding = parameters.<a class="code" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;seedMode&quot;</span>, <span class="stringliteral">&quot;run&quot;</span>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">if</span> (!strcasecmp(seeding.c_str(), <span class="stringliteral">&quot;run&quot;</span>)) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> = SEED_RUN;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(seeding.c_str(), <span class="stringliteral">&quot;external&quot;</span>)) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> = SEED_EXTERNAL;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a> = parameters.<a class="code" href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">getParameter</a>&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;masterSeed&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a00a877ce5fddfb81e8cee3e9b7ad4ee7">initialized_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(seeding.c_str(), <span class="stringliteral">&quot;time&quot;</span>)) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a> = time(0);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> = SEED_TIME;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a00a877ce5fddfb81e8cee3e9b7ad4ee7">initialized_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="ttc" id="aclassframework_1_1ConditionsObjectProvider_html_a53f7b8e8ad2ff80bfbfe1e3ffed123b4"><div class="ttname"><a href="classframework_1_1ConditionsObjectProvider.html#a53f7b8e8ad2ff80bfbfe1e3ffed123b4">framework::ConditionsObjectProvider::process</a></div><div class="ttdeci">const Process &amp; process() const</div><div class="ttdef"><b>Definition:</b> <a href="ConditionsObjectProvider_8h_source.html#l00138">ConditionsObjectProvider.h:138</a></div></div>
<div class="ttc" id="aclassframework_1_1ConditionsObjectProvider_html_abd817d060b44cfcaa6c9b24d0ebf22a4"><div class="ttname"><a href="classframework_1_1ConditionsObjectProvider.html#abd817d060b44cfcaa6c9b24d0ebf22a4">framework::ConditionsObjectProvider::ConditionsObjectProvider</a></div><div class="ttdeci">ConditionsObjectProvider(const std::string &amp;objname, const std::string &amp;tagname, const framework::config::Parameters &amp;parameters, Process &amp;process)</div><div class="ttdef"><b>Definition:</b> <a href="ConditionsObjectProvider_8cxx_source.html#l00009">ConditionsObjectProvider.cxx:9</a></div></div>
<div class="ttc" id="aclassframework_1_1ConditionsObject_html_a47cde9473f38ece4308bc86449b7f7cd"><div class="ttname"><a href="classframework_1_1ConditionsObject.html#a47cde9473f38ece4308bc86449b7f7cd">framework::ConditionsObject::ConditionsObject</a></div><div class="ttdeci">ConditionsObject(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="ConditionsObject_8h_source.html#l00023">ConditionsObject.h:23</a></div></div>
<div class="ttc" id="aclassframework_1_1RandomNumberSeedService_html_a00a877ce5fddfb81e8cee3e9b7ad4ee7"><div class="ttname"><a href="classframework_1_1RandomNumberSeedService.html#a00a877ce5fddfb81e8cee3e9b7ad4ee7">framework::RandomNumberSeedService::initialized_</a></div><div class="ttdeci">bool initialized_</div><div class="ttdoc">whether the master seed has been initialized</div><div class="ttdef"><b>Definition:</b> <a href="RandomNumberSeedService_8h_source.html#l00140">RandomNumberSeedService.h:140</a></div></div>
<div class="ttc" id="aclassframework_1_1RandomNumberSeedService_html_a48e87463ea63d1862064cad26d5b9bb4"><div class="ttname"><a href="classframework_1_1RandomNumberSeedService.html#a48e87463ea63d1862064cad26d5b9bb4">framework::RandomNumberSeedService::CONDITIONS_OBJECT_NAME</a></div><div class="ttdeci">static const std::string CONDITIONS_OBJECT_NAME</div><div class="ttdoc">Conditions object name.</div><div class="ttdef"><b>Definition:</b> <a href="RandomNumberSeedService_8h_source.html#l00037">RandomNumberSeedService.h:37</a></div></div>
<div class="ttc" id="aclassframework_1_1RandomNumberSeedService_html_a4c713fa824f6b9f87cb7f73fa7bcece4"><div class="ttname"><a href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">framework::RandomNumberSeedService::seedMode_</a></div><div class="ttdeci">int seedMode_</div><div class="ttdoc">what mode of master seed are we using</div><div class="ttdef"><b>Definition:</b> <a href="RandomNumberSeedService_8h_source.html#l00143">RandomNumberSeedService.h:143</a></div></div>
<div class="ttc" id="aclassframework_1_1RandomNumberSeedService_html_a6f15e53cabf325ae6c3e94b8342fa705"><div class="ttname"><a href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">framework::RandomNumberSeedService::masterSeed_</a></div><div class="ttdeci">uint64_t masterSeed_</div><div class="ttdoc">what the master seed actually is</div><div class="ttdef"><b>Definition:</b> <a href="RandomNumberSeedService_8h_source.html#l00146">RandomNumberSeedService.h:146</a></div></div>
<div class="ttc" id="aclassframework_1_1config_1_1Parameters_html_a18206b7c01007dd706abce7e5505eae1"><div class="ttname"><a href="classframework_1_1config_1_1Parameters.html#a18206b7c01007dd706abce7e5505eae1">framework::config::Parameters::getParameter</a></div><div class="ttdeci">T getParameter(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="Parameters_8h_source.html#l00089">Parameters.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Parameters_8h_source.html#l00089">framework::config::Parameters::getParameter()</a>, <a class="el" href="RandomNumberSeedService_8h_source.html#l00140">initialized_</a>, <a class="el" href="RandomNumberSeedService_8h_source.html#l00146">masterSeed_</a>, and <a class="el" href="RandomNumberSeedService_8h_source.html#l00143">seedMode_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0025ca535998ec03d6c41e643388c233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0025ca535998ec03d6c41e643388c233">&#9670;&nbsp;</a></span>getCondition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; const <a class="el" href="classframework_1_1ConditionsObject.html">ConditionsObject</a> *, <a class="el" href="classframework_1_1ConditionsIOV.html">ConditionsIOV</a> &gt; framework::RandomNumberSeedService::getCondition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classldmx_1_1EventHeader.html">ldmx::EventHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the seed service as a conditions object</p>
<p>This object is both the provider of the seed service and the conditions object itself, so after checking if it has been initialized, we return a refernce to ourselves with the unlimited interval of validity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>EventHeader for the event context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>reference to ourselves and unlimited interval of validity </dd></dl>

<p>Implements <a class="el" href="classframework_1_1ConditionsObjectProvider.html#a5d5f9603a274ac1032dd671becb7aec8">framework::ConditionsObjectProvider</a>.</p>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8cxx_source.html#l00080">80</a> of file <a class="el" href="RandomNumberSeedService_8cxx_source.html">RandomNumberSeedService.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                                                    {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classframework_1_1RandomNumberSeedService.html#a00a877ce5fddfb81e8cee3e9b7ad4ee7">initialized_</a>) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> == SEED_RUN) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a> = context.<a class="code" href="classldmx_1_1EventHeader.html#a23013e70fa0d1c1255215aed5849ecd4">getRun</a>();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a00a877ce5fddfb81e8cee3e9b7ad4ee7">initialized_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">return</span> std::pair&lt;const ConditionsObject*, ConditionsIOV&gt;(</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keyword">this</span>, ConditionsIOV(<span class="keyword">true</span>, <span class="keyword">true</span>));</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="ttc" id="aclassldmx_1_1EventHeader_html_a23013e70fa0d1c1255215aed5849ecd4"><div class="ttname"><a href="classldmx_1_1EventHeader.html#a23013e70fa0d1c1255215aed5849ecd4">ldmx::EventHeader::getRun</a></div><div class="ttdeci">int getRun() const</div><div class="ttdef"><b>Definition:</b> <a href="EventHeader_8h_source.html#l00082">EventHeader.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="EventHeader_8h_source.html#l00082">ldmx::EventHeader::getRun()</a>, <a class="el" href="RandomNumberSeedService_8h_source.html#l00140">initialized_</a>, <a class="el" href="RandomNumberSeedService_8h_source.html#l00146">masterSeed_</a>, and <a class="el" href="RandomNumberSeedService_8h_source.html#l00143">seedMode_</a>.</p>

</div>
</div>
<a id="a6ce73590dc48476919aa9574bcac37e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce73590dc48476919aa9574bcac37e5">&#9670;&nbsp;</a></span>getMasterSeed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t framework::RandomNumberSeedService::getMasterSeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Access the master seed</p>
<dl class="section return"><dt>Returns</dt><dd>master seed that is used to derive all other seeds </dd></dl>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8h_source.html#l00093">93</a> of file <a class="el" href="RandomNumberSeedService_8h_source.html">RandomNumberSeedService.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="RandomNumberSeedService_8h_source.html#l00146">masterSeed_</a>.</p>

</div>
</div>
<a id="a8678b993114299bd7afee487367fb249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8678b993114299bd7afee487367fb249">&#9670;&nbsp;</a></span>getSeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t framework::RandomNumberSeedService::getSeed </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Access a given seed by name</p>
<p>Checks the cache for the input name. If the input name is not in the cache, it generates the seed for that name by combining the master seed with a hash of the name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of seed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>seed derived from master seed using the input name </dd></dl>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8cxx_source.html#l00056">56</a> of file <a class="el" href="RandomNumberSeedService_8cxx_source.html">RandomNumberSeedService.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                                                     {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  uint64_t seed(0);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  std::map&lt;std::string, uint64_t&gt;::const_iterator i = <a class="code" href="classframework_1_1RandomNumberSeedService.html#a24944b14202db81901da0342c278ddb1">seeds_</a>.find(name);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> (i == <a class="code" href="classframework_1_1RandomNumberSeedService.html#a24944b14202db81901da0342c278ddb1">seeds_</a>.end()) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// hash is sum of characters shifted by position, mod 8</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; name.size(); j++)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      seed += (uint64_t(name[j]) &lt;&lt; (j % 8));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    seed += <a class="code" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// break const here only to cache the seed</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a24944b14202db81901da0342c278ddb1">seeds_</a>[name] = seed;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    seed = i-&gt;second;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">return</span> seed;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="aclassframework_1_1RandomNumberSeedService_html_a24944b14202db81901da0342c278ddb1"><div class="ttname"><a href="classframework_1_1RandomNumberSeedService.html#a24944b14202db81901da0342c278ddb1">framework::RandomNumberSeedService::seeds_</a></div><div class="ttdeci">std::map&lt; std::string, uint64_t &gt; seeds_</div><div class="ttdoc">cache of seeds by name</div><div class="ttdef"><b>Definition:</b> <a href="RandomNumberSeedService_8h_source.html#l00149">RandomNumberSeedService.h:149</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="RandomNumberSeedService_8h_source.html#l00146">masterSeed_</a>, and <a class="el" href="RandomNumberSeedService_8h_source.html#l00149">seeds_</a>.</p>

<p class="reference">Referenced by <a class="el" href="Simulator_8cxx_source.html#l00273">simcore::Simulator::onNewRun()</a>.</p>

</div>
</div>
<a id="a46485e1c011de3e069a809b9495aae44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46485e1c011de3e069a809b9495aae44">&#9670;&nbsp;</a></span>getSeedNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; framework::RandomNumberSeedService::getSeedNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a list of all the known seeds</p>
<dl class="section return"><dt>Returns</dt><dd>vector of seed names that have already been requested (in cache) </dd></dl>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8cxx_source.html#l00071">71</a> of file <a class="el" href="RandomNumberSeedService_8cxx_source.html">RandomNumberSeedService.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                                 {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  std::vector&lt;std::string&gt; rv;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="classframework_1_1RandomNumberSeedService.html#a24944b14202db81901da0342c278ddb1">seeds_</a>) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    rv.push_back(i.first);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> rv;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="RandomNumberSeedService_8h_source.html#l00149">seeds_</a>.</p>

</div>
</div>
<a id="ade1758292d5f26c0aebe180248541635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade1758292d5f26c0aebe180248541635">&#9670;&nbsp;</a></span>onNewRun()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void framework::RandomNumberSeedService::onNewRun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classldmx_1_1RunHeader.html">ldmx::RunHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Configure the seed service when a new run starts</p>
<p>If we are using the run number as the master seed, then we get the run number and set the master seed to it.</p>
<p>No matter what, we put the master seed into the RunHeader to be persisted into the output file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">header</td><td>RunHeader for the new run that is starting </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classframework_1_1ConditionsObjectProvider.html#a49b684160b0cbf3b864f40eed34f54ca">framework::ConditionsObjectProvider</a>.</p>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8cxx_source.html#l00047">47</a> of file <a class="el" href="RandomNumberSeedService_8cxx_source.html">RandomNumberSeedService.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                                        {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> == SEED_RUN) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a> = rh.getRunNumber();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classframework_1_1RandomNumberSeedService.html#a00a877ce5fddfb81e8cee3e9b7ad4ee7">initialized_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  std::string key = <span class="stringliteral">&quot;RandomNumberMasterSeed[&quot;</span> + <a class="code" href="classframework_1_1ConditionsObjectProvider.html#a53f7b8e8ad2ff80bfbfe1e3ffed123b4">process</a>().<a class="code" href="classframework_1_1Process.html#ad9ccccef2d8d6c96afea58ebef0603f4">getPassName</a>() + <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  rh.setIntParameter(key, <span class="keywordtype">int</span>(<a class="code" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a>));</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="aclassframework_1_1Process_html_ad9ccccef2d8d6c96afea58ebef0603f4"><div class="ttname"><a href="classframework_1_1Process.html#ad9ccccef2d8d6c96afea58ebef0603f4">framework::Process::getPassName</a></div><div class="ttdeci">const std::string &amp; getPassName() const</div><div class="ttdef"><b>Definition:</b> <a href="Process_8h_source.html#l00055">Process.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Process_8h_source.html#l00055">framework::Process::getPassName()</a>, <a class="el" href="RunHeader_8h_source.html#l00042">ldmx::RunHeader::getRunNumber()</a>, <a class="el" href="RandomNumberSeedService_8h_source.html#l00140">initialized_</a>, <a class="el" href="RandomNumberSeedService_8h_source.html#l00146">masterSeed_</a>, <a class="el" href="ConditionsObjectProvider_8h_source.html#l00138">framework::ConditionsObjectProvider::process()</a>, <a class="el" href="RandomNumberSeedService_8h_source.html#l00143">seedMode_</a>, and <a class="el" href="RunHeader_8h_source.html#l00112">ldmx::RunHeader::setIntParameter()</a>.</p>

</div>
</div>
<a id="a485498ee9c7a1ce2bb51a2a32f5de6b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485498ee9c7a1ce2bb51a2a32f5de6b3">&#9670;&nbsp;</a></span>releaseConditionsObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void framework::RandomNumberSeedService::releaseConditionsObject </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classframework_1_1ConditionsObject.html">ConditionsObject</a> *&#160;</td>
          <td class="paramname"><em>co</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This object is both the provider of the seed service and the conditions object itself, so it does nothing when asked to release the object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">co</td><td><a class="el" href="classframework_1_1ConditionsObject.html" title="Base class for all conditions objects, very simple.">ConditionsObject</a> to release, unused </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classframework_1_1ConditionsObjectProvider.html#ac5ed45dfc260722147f4a88c784f2ad8">framework::ConditionsObjectProvider</a>.</p>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8h_source.html#l00114">114</a> of file <a class="el" href="RandomNumberSeedService_8h_source.html">RandomNumberSeedService.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                                                   {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }  <span class="comment">// it is us, never destroy it.</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeae26eda8f2489e456b69dfc75f2387e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae26eda8f2489e456b69dfc75f2387e">&#9670;&nbsp;</a></span>stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void framework::RandomNumberSeedService::stream </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stream the configuration of this object to the input ostream</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s</td><td>output stream to print this object to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8cxx_source.html#l00016">16</a> of file <a class="el" href="RandomNumberSeedService_8cxx_source.html">RandomNumberSeedService.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                                                        {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  s &lt;&lt; <span class="stringliteral">&quot;RandomNumberSeedService(&quot;</span>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> == SEED_RUN) s &lt;&lt; <span class="stringliteral">&quot;Seed on RUN&quot;</span>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> == SEED_TIME) s &lt;&lt; <span class="stringliteral">&quot;Seed on TIME&quot;</span>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classframework_1_1RandomNumberSeedService.html#a4c713fa824f6b9f87cb7f73fa7bcece4">seedMode_</a> == SEED_EXTERNAL) s &lt;&lt; <span class="stringliteral">&quot;Seeded EXTERNALLY&quot;</span>;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  s &lt;&lt; <span class="stringliteral">&quot;) Master seed = &quot;</span> &lt;&lt; <a class="code" href="classframework_1_1RandomNumberSeedService.html#a6f15e53cabf325ae6c3e94b8342fa705">masterSeed_</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="classframework_1_1RandomNumberSeedService.html#a24944b14202db81901da0342c278ddb1">seeds_</a>) {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; i.first &lt;&lt; <span class="stringliteral">&quot;=&gt;&quot;</span> &lt;&lt; i.second &lt;&lt; std::endl;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  }</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="RandomNumberSeedService_8h_source.html#l00146">masterSeed_</a>, <a class="el" href="RandomNumberSeedService_8h_source.html#l00143">seedMode_</a>, and <a class="el" href="RandomNumberSeedService_8h_source.html#l00149">seeds_</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="ad869b03ef245a11516540459c40f387f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad869b03ef245a11516540459c40f387f">&#9670;&nbsp;</a></span>operator&lt;&lt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classframework_1_1RandomNumberSeedService.html">RandomNumberSeedService</a> &amp;&#160;</td>
          <td class="paramname"><em>o</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Output streaming operator</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classframework_1_1RandomNumberSeedService.html#aeae26eda8f2489e456b69dfc75f2387e">framework::RandomNumberSeedService::stream</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>output stream to print to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">o</td><td>seed service to print </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>modified output stream </dd></dl>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8h_source.html#l00132">132</a> of file <a class="el" href="RandomNumberSeedService_8h_source.html">RandomNumberSeedService.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                                                    {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    o.stream(s);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a48e87463ea63d1862064cad26d5b9bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e87463ea63d1862064cad26d5b9bb4">&#9670;&nbsp;</a></span>CONDITIONS_OBJECT_NAME</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string framework::RandomNumberSeedService::CONDITIONS_OBJECT_NAME</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">    <span class="stringliteral">&quot;RandomNumberSeedService&quot;</span></div>
</div><!-- fragment -->
<p><a class="el" href="classframework_1_1Conditions.html" title="Container and cache for conditions and conditions providers.">Conditions</a> object name. </p>

<p class="definition">Definition at line <a class="el" href="RandomNumberSeedService_8h_source.html#l00037">37</a> of file <a class="el" href="RandomNumberSeedService_8h_source.html">RandomNumberSeedService.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="OverlayProducer_8cxx_source.html#l00060">recon::OverlayProducer::onNewRun()</a>, <a class="el" href="Simulator_8cxx_source.html#l00273">simcore::Simulator::onNewRun()</a>, <a class="el" href="EcalDigiProducer_8cxx_source.html#l00064">ecal::EcalDigiProducer::produce()</a>, <a class="el" href="TrigScintDigiProducer_8cxx_source.html#l00047">trigscint::TrigScintDigiProducer::produce()</a>, <a class="el" href="TrigScintQIEDigiProducer_8cxx_source.html#l00060">trigscint::TrigScintQIEDigiProducer::produce()</a>, <a class="el" href="HcalDigiProducer_8cxx_source.html#l00065">hcal::HcalDigiProducer::produce()</a>, and <a class="el" href="OverlayProducer_8cxx_source.html#l00080">recon::OverlayProducer::produce()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Framework/include/Framework/<a class="el" href="RandomNumberSeedService_8h_source.html">RandomNumberSeedService.h</a></li>
<li>Framework/src/Framework/<a class="el" href="RandomNumberSeedService_8cxx_source.html">RandomNumberSeedService.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>